function now(){return+new Date}function jsonp(a,b,c){var d=document.getElementsByTagName("head")[0],e=document.createElement("script"),f="jsonp"+_jsonc++;window[f]=function(a){c&&c(a),window[f]=void 0;try{delete window[f]}catch(b){}d&&d.removeChild(e)};var g=[];for(var h in b)g.push(h+"="+encodeURIComponent(b[h]));e.src=a+(-1!=a.indexOf("?")?"&":"?")+g.join("&")+(g.length?"&":"")+"json-callback="+f,e.charset="utf-8",d.appendChild(e)}var Handlebars={};!function(a,b){a.VERSION="1.0.0",a.COMPILER_REVISION=4,a.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"},a.helpers={},a.partials={};var c=Object.prototype.toString,d="[object Function]",e="[object Object]";a.registerHelper=function(b,d,f){if(c.call(b)===e){if(f||d)throw new a.Exception("Arg not supported with multiple helpers");a.Utils.extend(this.helpers,b)}else f&&(d.not=f),this.helpers[b]=d},a.registerPartial=function(b,d){c.call(b)===e?a.Utils.extend(this.partials,b):this.partials[b]=d},a.registerHelper("helperMissing",function(a){if(2===arguments.length)return b;throw new Error("Missing helper: '"+a+"'")}),a.registerHelper("blockHelperMissing",function(b,e){var f=e.inverse||function(){},g=e.fn,h=c.call(b);return h===d&&(b=b.call(this)),b===!0?g(this):b===!1||null==b?f(this):"[object Array]"===h?b.length>0?a.helpers.each(b,e):f(this):g(b)}),a.K=function(){},a.createFrame=Object.create||function(b){a.K.prototype=b;var c=new a.K;return a.K.prototype=null,c},a.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,methodMap:{0:"debug",1:"info",2:"warn",3:"error"},log:function(b,c){if(a.logger.level<=b){var d=a.logger.methodMap[b];"undefined"!=typeof console&&console[d]&&console[d].call(console,c)}}},a.log=function(b,c){a.logger.log(b,c)},a.registerHelper("each",function(b,e){var f,g=e.fn,h=e.inverse,i=0,j="",k=c.call(b);if(k===d&&(b=b.call(this)),e.data&&(f=a.createFrame(e.data)),b&&"object"==typeof b)if(b instanceof Array)for(var l=b.length;l>i;i++)f&&(f.index=i),j+=g(b[i],{data:f});else for(var m in b)b.hasOwnProperty(m)&&(f&&(f.key=m),j+=g(b[m],{data:f}),i++);return 0===i&&(j=h(this)),j}),a.registerHelper("if",function(b,e){var f=c.call(b);return f===d&&(b=b.call(this)),!b||a.Utils.isEmpty(b)?e.inverse(this):e.fn(this)}),a.registerHelper("unless",function(b,c){return a.helpers["if"].call(this,b,{fn:c.inverse,inverse:c.fn})}),a.registerHelper("with",function(b,e){var f=c.call(b);return f===d&&(b=b.call(this)),a.Utils.isEmpty(b)?void 0:e.fn(b)}),a.registerHelper("log",function(b,c){var d=c.data&&null!=c.data.level?parseInt(c.data.level,10):1;a.log(d,b)});var f=function(){function a(){this.yy={}}var b={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,simpleInverse:6,statements:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,inMustache:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,CLOSE_UNESCAPED:24,OPEN_PARTIAL:25,partialName:26,params:27,hash:28,dataName:29,param:30,STRING:31,INTEGER:32,BOOLEAN:33,hashSegments:34,hashSegment:35,ID:36,EQUALS:37,DATA:38,pathSegments:39,SEP:40,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"CLOSE_UNESCAPED",25:"OPEN_PARTIAL",31:"STRING",32:"INTEGER",33:"BOOLEAN",36:"ID",37:"EQUALS",38:"DATA",40:"SEP"},productions_:[0,[3,2],[4,2],[4,3],[4,2],[4,1],[4,1],[4,0],[7,1],[7,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,3],[13,4],[6,2],[17,3],[17,2],[17,2],[17,1],[17,1],[27,2],[27,1],[30,1],[30,1],[30,1],[30,1],[30,1],[28,1],[34,2],[34,1],[35,3],[35,3],[35,3],[35,3],[35,3],[26,1],[26,1],[26,1],[29,2],[21,1],[39,3],[39,1]],performAction:function(a,b,c,d,e,f){var g=f.length-1;switch(e){case 1:return f[g-1];case 2:this.$=new d.ProgramNode([],f[g]);break;case 3:this.$=new d.ProgramNode(f[g-2],f[g]);break;case 4:this.$=new d.ProgramNode(f[g-1],[]);break;case 5:this.$=new d.ProgramNode(f[g]);break;case 6:this.$=new d.ProgramNode([],[]);break;case 7:this.$=new d.ProgramNode([]);break;case 8:this.$=[f[g]];break;case 9:f[g-1].push(f[g]),this.$=f[g-1];break;case 10:this.$=new d.BlockNode(f[g-2],f[g-1].inverse,f[g-1],f[g]);break;case 11:this.$=new d.BlockNode(f[g-2],f[g-1],f[g-1].inverse,f[g]);break;case 12:this.$=f[g];break;case 13:this.$=f[g];break;case 14:this.$=new d.ContentNode(f[g]);break;case 15:this.$=new d.CommentNode(f[g]);break;case 16:this.$=new d.MustacheNode(f[g-1][0],f[g-1][1]);break;case 17:this.$=new d.MustacheNode(f[g-1][0],f[g-1][1]);break;case 18:this.$=f[g-1];break;case 19:this.$=new d.MustacheNode(f[g-1][0],f[g-1][1],"&"===f[g-2][2]);break;case 20:this.$=new d.MustacheNode(f[g-1][0],f[g-1][1],!0);break;case 21:this.$=new d.PartialNode(f[g-1]);break;case 22:this.$=new d.PartialNode(f[g-2],f[g-1]);break;case 23:break;case 24:this.$=[[f[g-2]].concat(f[g-1]),f[g]];break;case 25:this.$=[[f[g-1]].concat(f[g]),null];break;case 26:this.$=[[f[g-1]],f[g]];break;case 27:this.$=[[f[g]],null];break;case 28:this.$=[[f[g]],null];break;case 29:f[g-1].push(f[g]),this.$=f[g-1];break;case 30:this.$=[f[g]];break;case 31:this.$=f[g];break;case 32:this.$=new d.StringNode(f[g]);break;case 33:this.$=new d.IntegerNode(f[g]);break;case 34:this.$=new d.BooleanNode(f[g]);break;case 35:this.$=f[g];break;case 36:this.$=new d.HashNode(f[g]);break;case 37:f[g-1].push(f[g]),this.$=f[g-1];break;case 38:this.$=[f[g]];break;case 39:this.$=[f[g-2],f[g]];break;case 40:this.$=[f[g-2],new d.StringNode(f[g])];break;case 41:this.$=[f[g-2],new d.IntegerNode(f[g])];break;case 42:this.$=[f[g-2],new d.BooleanNode(f[g])];break;case 43:this.$=[f[g-2],f[g]];break;case 44:this.$=new d.PartialNameNode(f[g]);break;case 45:this.$=new d.PartialNameNode(new d.StringNode(f[g]));break;case 46:this.$=new d.PartialNameNode(new d.IntegerNode(f[g]));break;case 47:this.$=new d.DataNode(f[g]);break;case 48:this.$=new d.IdNode(f[g]);break;case 49:f[g-2].push({part:f[g],separator:f[g-1]}),this.$=f[g-2];break;case 50:this.$=[{part:f[g]}]}},table:[{3:1,4:2,5:[2,7],6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],22:[1,14],23:[1,15],25:[1,16]},{1:[3]},{5:[1,17]},{5:[2,6],7:18,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,6],22:[1,14],23:[1,15],25:[1,16]},{5:[2,5],6:20,8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,5],22:[1,14],23:[1,15],25:[1,16]},{17:23,18:[1,22],21:24,29:25,36:[1,28],38:[1,27],39:26},{5:[2,8],14:[2,8],15:[2,8],16:[2,8],19:[2,8],20:[2,8],22:[2,8],23:[2,8],25:[2,8]},{4:29,6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,7],22:[1,14],23:[1,15],25:[1,16]},{4:30,6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,7],22:[1,14],23:[1,15],25:[1,16]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{17:31,21:24,29:25,36:[1,28],38:[1,27],39:26},{17:32,21:24,29:25,36:[1,28],38:[1,27],39:26},{17:33,21:24,29:25,36:[1,28],38:[1,27],39:26},{21:35,26:34,31:[1,36],32:[1,37],36:[1,28],39:26},{1:[2,1]},{5:[2,2],8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,2],22:[1,14],23:[1,15],25:[1,16]},{17:23,21:24,29:25,36:[1,28],38:[1,27],39:26},{5:[2,4],7:38,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,4],22:[1,14],23:[1,15],25:[1,16]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{5:[2,23],14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],25:[2,23]},{18:[1,39]},{18:[2,27],21:44,24:[2,27],27:40,28:41,29:48,30:42,31:[1,45],32:[1,46],33:[1,47],34:43,35:49,36:[1,50],38:[1,27],39:26},{18:[2,28],24:[2,28]},{18:[2,48],24:[2,48],31:[2,48],32:[2,48],33:[2,48],36:[2,48],38:[2,48],40:[1,51]},{21:52,36:[1,28],39:26},{18:[2,50],24:[2,50],31:[2,50],32:[2,50],33:[2,50],36:[2,50],38:[2,50],40:[2,50]},{10:53,20:[1,54]},{10:55,20:[1,54]},{18:[1,56]},{18:[1,57]},{24:[1,58]},{18:[1,59],21:60,36:[1,28],39:26},{18:[2,44],36:[2,44]},{18:[2,45],36:[2,45]},{18:[2,46],36:[2,46]},{5:[2,3],8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,3],22:[1,14],23:[1,15],25:[1,16]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],25:[2,17]},{18:[2,25],21:44,24:[2,25],28:61,29:48,30:62,31:[1,45],32:[1,46],33:[1,47],34:43,35:49,36:[1,50],38:[1,27],39:26},{18:[2,26],24:[2,26]},{18:[2,30],24:[2,30],31:[2,30],32:[2,30],33:[2,30],36:[2,30],38:[2,30]},{18:[2,36],24:[2,36],35:63,36:[1,64]},{18:[2,31],24:[2,31],31:[2,31],32:[2,31],33:[2,31],36:[2,31],38:[2,31]},{18:[2,32],24:[2,32],31:[2,32],32:[2,32],33:[2,32],36:[2,32],38:[2,32]},{18:[2,33],24:[2,33],31:[2,33],32:[2,33],33:[2,33],36:[2,33],38:[2,33]},{18:[2,34],24:[2,34],31:[2,34],32:[2,34],33:[2,34],36:[2,34],38:[2,34]},{18:[2,35],24:[2,35],31:[2,35],32:[2,35],33:[2,35],36:[2,35],38:[2,35]},{18:[2,38],24:[2,38],36:[2,38]},{18:[2,50],24:[2,50],31:[2,50],32:[2,50],33:[2,50],36:[2,50],37:[1,65],38:[2,50],40:[2,50]},{36:[1,66]},{18:[2,47],24:[2,47],31:[2,47],32:[2,47],33:[2,47],36:[2,47],38:[2,47]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{21:67,36:[1,28],39:26},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],25:[2,11]},{14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],25:[2,16]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],25:[2,19]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,68]},{18:[2,24],24:[2,24]},{18:[2,29],24:[2,29],31:[2,29],32:[2,29],33:[2,29],36:[2,29],38:[2,29]},{18:[2,37],24:[2,37],36:[2,37]},{37:[1,65]},{21:69,29:73,31:[1,70],32:[1,71],33:[1,72],36:[1,28],38:[1,27],39:26},{18:[2,49],24:[2,49],31:[2,49],32:[2,49],33:[2,49],36:[2,49],38:[2,49],40:[2,49]},{18:[1,74]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{18:[2,39],24:[2,39],36:[2,39]},{18:[2,40],24:[2,40],36:[2,40]},{18:[2,41],24:[2,41],36:[2,41]},{18:[2,42],24:[2,42],36:[2,42]},{18:[2,43],24:[2,43],36:[2,43]},{5:[2,18],14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],25:[2,18]}],defaultActions:{17:[2,1]},parseError:function(a){throw new Error(a)},parse:function(a){function b(){var a;return a=c.lexer.lex()||1,"number"!=typeof a&&(a=c.symbols_[a]||a),a}var c=this,d=[0],e=[null],f=[],g=this.table,h="",i=0,j=0,k=0;this.lexer.setInput(a),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var l=this.lexer.yylloc;f.push(l);var m=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var n,o,p,q,r,s,t,u,v,w={};;){if(p=d[d.length-1],this.defaultActions[p]?q=this.defaultActions[p]:((null===n||"undefined"==typeof n)&&(n=b()),q=g[p]&&g[p][n]),"undefined"==typeof q||!q.length||!q[0]){var x="";if(!k){v=[];for(s in g[p])this.terminals_[s]&&s>2&&v.push("'"+this.terminals_[s]+"'");x=this.lexer.showPosition?"Parse error on line "+(i+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+v.join(", ")+", got '"+(this.terminals_[n]||n)+"'":"Parse error on line "+(i+1)+": Unexpected "+(1==n?"end of input":"'"+(this.terminals_[n]||n)+"'"),this.parseError(x,{text:this.lexer.match,token:this.terminals_[n]||n,line:this.lexer.yylineno,loc:l,expected:v})}}if(q[0]instanceof Array&&q.length>1)throw new Error("Parse Error: multiple actions possible at state: "+p+", token: "+n);switch(q[0]){case 1:d.push(n),e.push(this.lexer.yytext),f.push(this.lexer.yylloc),d.push(q[1]),n=null,o?(n=o,o=null):(j=this.lexer.yyleng,h=this.lexer.yytext,i=this.lexer.yylineno,l=this.lexer.yylloc,k>0&&k--);break;case 2:if(t=this.productions_[q[1]][1],w.$=e[e.length-t],w._$={first_line:f[f.length-(t||1)].first_line,last_line:f[f.length-1].last_line,first_column:f[f.length-(t||1)].first_column,last_column:f[f.length-1].last_column},m&&(w._$.range=[f[f.length-(t||1)].range[0],f[f.length-1].range[1]]),r=this.performAction.call(w,h,j,i,this.yy,q[1],e,f),"undefined"!=typeof r)return r;t&&(d=d.slice(0,2*-1*t),e=e.slice(0,-1*t),f=f.slice(0,-1*t)),d.push(this.productions_[q[1]][0]),e.push(w.$),f.push(w._$),u=g[d[d.length-2]][d[d.length-1]],d.push(u);break;case 3:return!0}}return!0}},c=function(){var a={EOF:1,parseError:function(a,b){if(!this.yy.parser)throw new Error(a);this.yy.parser.parseError(a,b)},setInput:function(a){return this._input=a,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var a=this._input[0];this.yytext+=a,this.yyleng++,this.offset++,this.match+=a,this.matched+=a;var b=a.match(/(?:\r\n?|\n).*/g);return b?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-b-1),this.offset-=b;var d=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),c.length-1&&(this.yylineno-=c.length-1);var e=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===d.length?this.yylloc.first_column:0)+d[d.length-c.length].length-c[0].length:this.yylloc.first_column-b},this.options.ranges&&(this.yylloc.range=[e[0],e[0]+this.yyleng-b]),this},more:function(){return this._more=!0,this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(a.length>20?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;return a.length<20&&(a+=this._input.substr(0,20-a.length)),(a.substr(0,20)+(a.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=new Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c,d,e;this._more||(this.yytext="",this.match="");for(var f=this._currentRules(),g=0;g<f.length&&(c=this._input.match(this.rules[f[g]]),!c||b&&!(c[0].length>b[0].length)||(b=c,d=g,this.options.flex));g++);return b?(e=b[0].match(/(?:\r\n?|\n).*/g),e&&(this.yylineno+=e.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:e?e[e.length-1].length-e[e.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+b[0].length},this.yytext+=b[0],this.match+=b[0],this.matches=b,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(b[0].length),this.matched+=b[0],a=this.performAction.call(this,this.yy,this,f[d],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),a?a:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return"undefined"!=typeof a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(a){this.begin(a)}};return a.options={},a.performAction=function(a,b,c,d){switch(c){case 0:return b.yytext="\\",14;case 1:if("\\"!==b.yytext.slice(-1)&&this.begin("mu"),"\\"===b.yytext.slice(-1)&&(b.yytext=b.yytext.substr(0,b.yyleng-1),this.begin("emu")),b.yytext)return 14;break;case 2:return 14;case 3:return"\\"!==b.yytext.slice(-1)&&this.popState(),"\\"===b.yytext.slice(-1)&&(b.yytext=b.yytext.substr(0,b.yyleng-1)),14;case 4:return b.yytext=b.yytext.substr(0,b.yyleng-4),this.popState(),15;case 5:return 25;case 6:return 16;case 7:return 20;case 8:return 19;case 9:return 19;case 10:return 23;case 11:return 22;case 12:this.popState(),this.begin("com");break;case 13:return b.yytext=b.yytext.substr(3,b.yyleng-5),this.popState(),15;case 14:return 22;case 15:return 37;case 16:return 36;case 17:return 36;case 18:return 40;case 19:break;case 20:return this.popState(),24;case 21:return this.popState(),18;case 22:return b.yytext=b.yytext.substr(1,b.yyleng-2).replace(/\\"/g,'"'),31;case 23:return b.yytext=b.yytext.substr(1,b.yyleng-2).replace(/\\'/g,"'"),31;case 24:return 38;case 25:return 33;case 26:return 33;case 27:return 32;case 28:return 36;case 29:return b.yytext=b.yytext.substr(1,b.yyleng-2),36;case 30:return"INVALID";case 31:return 5}},a.rules=[/^(?:\\\\(?=(\{\{)))/,/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\{\{>)/,/^(?:\{\{#)/,/^(?:\{\{\/)/,/^(?:\{\{\^)/,/^(?:\{\{\s*else\b)/,/^(?:\{\{\{)/,/^(?:\{\{&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{)/,/^(?:=)/,/^(?:\.(?=[}\/ ]))/,/^(?:\.\.)/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}\}\})/,/^(?:\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=[}\s]))/,/^(?:false(?=[}\s]))/,/^(?:-?[0-9]+(?=[}\s]))/,/^(?:[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.]))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],a.conditions={mu:{rules:[5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],inclusive:!1},emu:{rules:[3],inclusive:!1},com:{rules:[4],inclusive:!1},INITIAL:{rules:[0,1,2,31],inclusive:!0}},a}();return b.lexer=c,a.prototype=b,b.Parser=a,new a}();a.Parser=f,a.parse=function(b){return b.constructor===a.AST.ProgramNode?b:(a.Parser.yy=a.AST,a.Parser.parse(b))},a.AST={},a.AST.ProgramNode=function(b,c){this.type="program",this.statements=b,c&&(this.inverse=new a.AST.ProgramNode(c))},a.AST.MustacheNode=function(a,b,c){this.type="mustache",this.escaped=!c,this.hash=b;var d=this.id=a[0],e=this.params=a.slice(1),f=this.eligibleHelper=d.isSimple;this.isHelper=f&&(e.length||b)},a.AST.PartialNode=function(a,b){this.type="partial",this.partialName=a,this.context=b},a.AST.BlockNode=function(b,c,d,e){var f=function(b,c){if(b.original!==c.original)throw new a.Exception(b.original+" doesn't match "+c.original)};f(b.id,e),this.type="block",this.mustache=b,this.program=c,this.inverse=d,this.inverse&&!this.program&&(this.isInverse=!0)},a.AST.ContentNode=function(a){this.type="content",this.string=a},a.AST.HashNode=function(a){this.type="hash",this.pairs=a},a.AST.IdNode=function(b){this.type="ID";for(var c="",d=[],e=0,f=0,g=b.length;g>f;f++){var h=b[f].part;if(c+=(b[f].separator||"")+h,".."===h||"."===h||"this"===h){if(d.length>0)throw new a.Exception("Invalid path: "+c);".."===h?e++:this.isScoped=!0}else d.push(h)}this.original=c,this.parts=d,this.string=d.join("."),this.depth=e,this.isSimple=1===b.length&&!this.isScoped&&0===e,this.stringModeValue=this.string},a.AST.PartialNameNode=function(a){this.type="PARTIAL_NAME",this.name=a.original},a.AST.DataNode=function(a){this.type="DATA",this.id=a},a.AST.StringNode=function(a){this.type="STRING",this.original=this.string=this.stringModeValue=a},a.AST.IntegerNode=function(a){this.type="INTEGER",this.original=this.integer=a,this.stringModeValue=Number(a)},a.AST.BooleanNode=function(a){this.type="BOOLEAN",this.bool=a,this.stringModeValue="true"===a},a.AST.CommentNode=function(a){this.type="comment",this.comment=a};var g=["description","fileName","lineNumber","message","name","number","stack"];a.Exception=function(){for(var a=Error.prototype.constructor.apply(this,arguments),b=0;b<g.length;b++)this[g[b]]=a[g[b]]},a.Exception.prototype=new Error,a.SafeString=function(a){this.string=a},a.SafeString.prototype.toString=function(){return this.string.toString()};var h={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/[&<>"'`]/g,j=/[&<>"'`]/,k=function(a){return h[a]||"&amp;"};a.Utils={extend:function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])},escapeExpression:function(b){return b instanceof a.SafeString?b.toString():null==b||b===!1?"":(b=b.toString(),j.test(b)?b.replace(i,k):b)},isEmpty:function(a){return a||0===a?"[object Array]"===c.call(a)&&0===a.length?!0:!1:!0}};var l=a.Compiler=function(){},m=a.JavaScriptCompiler=function(){};l.prototype={compiler:l,disassemble:function(){for(var a,b,c,d=this.opcodes,e=[],f=0,g=d.length;g>f;f++)if(a=d[f],"DECLARE"===a.opcode)e.push("DECLARE "+a.name+"="+a.value);else{b=[];for(var h=0;h<a.args.length;h++)c=a.args[h],"string"==typeof c&&(c='"'+c.replace("\n","\\n")+'"'),b.push(c);e.push(a.opcode+" "+b.join(" "))}return e.join("\n")},equals:function(a){var b=this.opcodes.length;if(a.opcodes.length!==b)return!1;for(var c=0;b>c;c++){var d=this.opcodes[c],e=a.opcodes[c];if(d.opcode!==e.opcode||d.args.length!==e.args.length)return!1;for(var f=0;f<d.args.length;f++)if(d.args[f]!==e.args[f])return!1}if(b=this.children.length,a.children.length!==b)return!1;for(c=0;b>c;c++)if(!this.children[c].equals(a.children[c]))return!1;return!0},guid:0,compile:function(a,b){this.children=[],this.depths={list:[]},this.options=b;var c=this.options.knownHelpers;if(this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0},c)for(var d in c)this.options.knownHelpers[d]=c[d];return this.program(a)},accept:function(a){return this[a.type](a)},program:function(a){var b,c=a.statements;this.opcodes=[];for(var d=0,e=c.length;e>d;d++)b=c[d],this[b.type](b);return this.isSimple=1===e,this.depths.list=this.depths.list.sort(function(a,b){return a-b}),this},compileProgram:function(a){var b,c=(new this.compiler).compile(a,this.options),d=this.guid++;this.usePartial=this.usePartial||c.usePartial,this.children[d]=c;for(var e=0,f=c.depths.list.length;f>e;e++)b=c.depths.list[e],2>b||this.addDepth(b-1);return d},block:function(a){var b=a.mustache,c=a.program,d=a.inverse;c&&(c=this.compileProgram(c)),d&&(d=this.compileProgram(d));var e=this.classifyMustache(b);"helper"===e?this.helperMustache(b,c,d):"simple"===e?(this.simpleMustache(b),this.opcode("pushProgram",c),this.opcode("pushProgram",d),this.opcode("emptyHash"),this.opcode("blockValue")):(this.ambiguousMustache(b,c,d),this.opcode("pushProgram",c),this.opcode("pushProgram",d),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},hash:function(a){var b,c,d=a.pairs;this.opcode("pushHash");for(var e=0,f=d.length;f>e;e++)b=d[e],c=b[1],this.options.stringParams?(c.depth&&this.addDepth(c.depth),this.opcode("getContext",c.depth||0),this.opcode("pushStringParam",c.stringModeValue,c.type)):this.accept(c),this.opcode("assignToHash",b[0]);this.opcode("popHash")},partial:function(a){var b=a.partialName;this.usePartial=!0,a.context?this.ID(a.context):this.opcode("push","depth0"),this.opcode("invokePartial",b.name),this.opcode("append")},content:function(a){this.opcode("appendContent",a.string)},mustache:function(a){var b=this.options,c=this.classifyMustache(a);"simple"===c?this.simpleMustache(a):"helper"===c?this.helperMustache(a):this.ambiguousMustache(a),a.escaped&&!b.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ambiguousMustache:function(a,b,c){var d=a.id,e=d.parts[0],f=null!=b||null!=c;this.opcode("getContext",d.depth),this.opcode("pushProgram",b),this.opcode("pushProgram",c),this.opcode("invokeAmbiguous",e,f)},simpleMustache:function(a){var b=a.id;"DATA"===b.type?this.DATA(b):b.parts.length?this.ID(b):(this.addDepth(b.depth),this.opcode("getContext",b.depth),this.opcode("pushContext")),this.opcode("resolvePossibleLambda")},helperMustache:function(a,b,c){var d=this.setupFullMustacheParams(a,b,c),e=a.id.parts[0];if(this.options.knownHelpers[e])this.opcode("invokeKnownHelper",d.length,e);else{if(this.options.knownHelpersOnly)throw new Error("You specified knownHelpersOnly, but used the unknown helper "+e);this.opcode("invokeHelper",d.length,e)}},ID:function(a){this.addDepth(a.depth),this.opcode("getContext",a.depth);var b=a.parts[0];b?this.opcode("lookupOnContext",a.parts[0]):this.opcode("pushContext");for(var c=1,d=a.parts.length;d>c;c++)this.opcode("lookup",a.parts[c])},DATA:function(b){if(this.options.data=!0,b.id.isScoped||b.id.depth)throw new a.Exception("Scoped data references are not supported: "+b.original);this.opcode("lookupData");for(var c=b.id.parts,d=0,e=c.length;e>d;d++)this.opcode("lookup",c[d])},STRING:function(a){this.opcode("pushString",a.string)},INTEGER:function(a){this.opcode("pushLiteral",a.integer)},BOOLEAN:function(a){this.opcode("pushLiteral",a.bool)},comment:function(){},opcode:function(a){this.opcodes.push({opcode:a,args:[].slice.call(arguments,1)})},declare:function(a,b){this.opcodes.push({opcode:"DECLARE",name:a,value:b})},addDepth:function(a){if(isNaN(a))throw new Error("EWOT");0!==a&&(this.depths[a]||(this.depths[a]=!0,this.depths.list.push(a)))},classifyMustache:function(a){var b=a.isHelper,c=a.eligibleHelper,d=this.options;if(c&&!b){var e=a.id.parts[0];d.knownHelpers[e]?b=!0:d.knownHelpersOnly&&(c=!1)}return b?"helper":c?"ambiguous":"simple"},pushParams:function(a){for(var b,c=a.length;c--;)b=a[c],this.options.stringParams?(b.depth&&this.addDepth(b.depth),this.opcode("getContext",b.depth||0),this.opcode("pushStringParam",b.stringModeValue,b.type)):this[b.type](b)},setupMustacheParams:function(a){var b=a.params;return this.pushParams(b),a.hash?this.hash(a.hash):this.opcode("emptyHash"),b},setupFullMustacheParams:function(a,b,c){var d=a.params;return this.pushParams(d),this.opcode("pushProgram",b),this.opcode("pushProgram",c),a.hash?this.hash(a.hash):this.opcode("emptyHash"),d}};var n=function(a){this.value=a};m.prototype={nameLookup:function(a,b){return/^[0-9]+$/.test(b)?a+"["+b+"]":m.isValidJavaScriptVariableName(b)?a+"."+b:a+"['"+b+"']"},appendToBuffer:function(a){return this.environment.isSimple?"return "+a+";":{appendToBuffer:!0,content:a,toString:function(){return"buffer += "+a+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(b,c,d,e){this.environment=b,this.options=c||{},a.log(a.logger.DEBUG,this.environment.disassemble()+"\n\n"),this.name=this.environment.name,this.isChild=!!d,this.context=d||{programs:[],environments:[],aliases:{}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.registers={list:[]},this.compileStack=[],this.inlineStack=[],this.compileChildren(b,c);var f,g=b.opcodes;for(this.i=0,r=g.length;this.i<r;this.i++)f=g[this.i],"DECLARE"===f.opcode?this[f.name]=f.value:this[f.opcode].apply(this,f.args);return this.createFunctionContext(e)},nextOpcode:function(){var a=this.environment.opcodes;return a[this.i+1]},eat:function(){this.i=this.i+1},preamble:function(){var a=[];if(this.isChild)a.push("");else{var b=this.namespace,c="helpers = this.merge(helpers, "+b+".helpers);";this.environment.usePartial&&(c=c+" partials = this.merge(partials, "+b+".partials);"),this.options.data&&(c+=" data = data || {};"),a.push(c)}this.environment.isSimple?a.push(""):a.push(", buffer = "+this.initializeBuffer()),this.lastContext=0,this.source=a},createFunctionContext:function(b){var c=this.stackVars.concat(this.registers.list);if(c.length>0&&(this.source[1]=this.source[1]+", "+c.join(", ")),!this.isChild)for(var d in this.context.aliases)this.context.aliases.hasOwnProperty(d)&&(this.source[1]=this.source[1]+", "+d+"="+this.context.aliases[d]);this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";"),this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n"),this.environment.isSimple||this.source.push("return buffer;");for(var e=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"],f=0,g=this.environment.depths.list.length;g>f;f++)e.push("depth"+this.environment.depths.list[f]);var h=this.mergeSource();if(!this.isChild){var i=a.COMPILER_REVISION,j=a.REVISION_CHANGES[i];h="this.compilerInfo = ["+i+",'"+j+"'];\n"+h}if(b)return e.push(h),Function.apply(this,e);var k="function "+(this.name||"")+"("+e.join(",")+") {\n  "+h+"}";return a.log(a.logger.DEBUG,k+"\n\n"),k},mergeSource:function(){for(var a,c="",d=0,e=this.source.length;e>d;d++){var f=this.source[d];f.appendToBuffer?a=a?a+"\n    + "+f.content:f.content:(a&&(c+="buffer += "+a+";\n  ",a=b),c+=f+"\n  ")}return c},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var a=["depth0"];this.setupParams(0,a),this.replaceStack(function(b){return a.splice(1,0,b),"blockHelperMissing.call("+a.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var a=["depth0"];this.setupParams(0,a);var b=this.topStack();a.splice(1,0,b),a[a.length-1]="options",this.source.push("if (!"+this.lastHelper+") { "+b+" = blockHelperMissing.call("+a.join(", ")+"); }")},appendContent:function(a){this.source.push(this.appendToBuffer(this.quotedString(a)))},append:function(){this.flushInline();var a=this.popStack();this.source.push("if("+a+" || "+a+" === 0) { "+this.appendToBuffer(a)+" }"),this.environment.isSimple&&this.source.push("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression",this.source.push(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(a){this.lastContext!==a&&(this.lastContext=a)},lookupOnContext:function(a){this.push(this.nameLookup("depth"+this.lastContext,a,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"',this.replaceStack(function(a){return"typeof "+a+" === functionType ? "+a+".apply(depth0) : "+a})},lookup:function(a){this.replaceStack(function(b){return b+" == null || "+b+" === false ? "+b+" : "+this.nameLookup(b,a,"context")})},lookupData:function(){this.push("data")},pushStringParam:function(a,b){this.pushStackLiteral("depth"+this.lastContext),this.pushString(b),"string"==typeof a?this.pushString(a):this.pushStackLiteral(a)},emptyHash:function(){this.pushStackLiteral("{}"),this.options.stringParams&&(this.register("hashTypes","{}"),this.register("hashContexts","{}"))},pushHash:function(){this.hash={values:[],types:[],contexts:[]}},popHash:function(){var a=this.hash;this.hash=b,this.options.stringParams&&(this.register("hashContexts","{"+a.contexts.join(",")+"}"),this.register("hashTypes","{"+a.types.join(",")+"}")),this.push("{\n    "+a.values.join(",\n    ")+"\n  }")},pushString:function(a){this.pushStackLiteral(this.quotedString(a))},push:function(a){return this.inlineStack.push(a),a},pushLiteral:function(a){this.pushStackLiteral(a)},pushProgram:function(a){null!=a?this.pushStackLiteral(this.programExpression(a)):this.pushStackLiteral(null)},invokeHelper:function(a,b){this.context.aliases.helperMissing="helpers.helperMissing";var c=this.lastHelper=this.setupHelper(a,b,!0),d=this.nameLookup("depth"+this.lastContext,b,"context");this.push(c.name+" || "+d),this.replaceStack(function(a){return a+" ? "+a+".call("+c.callParams+") "+": helperMissing.call("+c.helperMissingParams+")"})},invokeKnownHelper:function(a,b){var c=this.setupHelper(a,b);this.push(c.name+".call("+c.callParams+")")},invokeAmbiguous:function(a,b){this.context.aliases.functionType='"function"',this.pushStackLiteral("{}");var c=this.setupHelper(0,a,b),d=this.lastHelper=this.nameLookup("helpers",a,"helper"),e=this.nameLookup("depth"+this.lastContext,a,"context"),f=this.nextStack();
this.source.push("if ("+f+" = "+d+") { "+f+" = "+f+".call("+c.callParams+"); }"),this.source.push("else { "+f+" = "+e+"; "+f+" = typeof "+f+" === functionType ? "+f+".apply(depth0) : "+f+"; }")},invokePartial:function(a){var b=[this.nameLookup("partials",a,"partial"),"'"+a+"'",this.popStack(),"helpers","partials"];this.options.data&&b.push("data"),this.context.aliases.self="this",this.push("self.invokePartial("+b.join(", ")+")")},assignToHash:function(a){var b,c,d=this.popStack();this.options.stringParams&&(c=this.popStack(),b=this.popStack());var e=this.hash;b&&e.contexts.push("'"+a+"': "+b),c&&e.types.push("'"+a+"': "+c),e.values.push("'"+a+"': ("+d+")")},compiler:m,compileChildren:function(a,b){for(var c,d,e=a.children,f=0,g=e.length;g>f;f++){c=e[f],d=new this.compiler;var h=this.matchExistingProgram(c);null==h?(this.context.programs.push(""),h=this.context.programs.length,c.index=h,c.name="program"+h,this.context.programs[h]=d.compile(c,b,this.context),this.context.environments[h]=c):(c.index=h,c.name="program"+h)}},matchExistingProgram:function(a){for(var b=0,c=this.context.environments.length;c>b;b++){var d=this.context.environments[b];if(d&&d.equals(a))return b}},programExpression:function(a){if(this.context.aliases.self="this",null==a)return"self.noop";for(var b,c=this.environment.children[a],d=c.depths.list,e=[c.index,c.name,"data"],f=0,g=d.length;g>f;f++)b=d[f],1===b?e.push("depth0"):e.push("depth"+(b-1));return(0===d.length?"self.program(":"self.programWithDepth(")+e.join(", ")+")"},register:function(a,b){this.useRegister(a),this.source.push(a+" = "+b+";")},useRegister:function(a){this.registers[a]||(this.registers[a]=!0,this.registers.list.push(a))},pushStackLiteral:function(a){return this.push(new n(a))},pushStack:function(a){this.flushInline();var b=this.incrStack();return a&&this.source.push(b+" = "+a+";"),this.compileStack.push(b),b},replaceStack:function(a){var b,c="",d=this.isInline();if(d){var e=this.popStack(!0);if(e instanceof n)b=e.value;else{var f=this.stackSlot?this.topStackName():this.incrStack();c="("+this.push(f)+" = "+e+"),",b=this.topStack()}}else b=this.topStack();var g=a.call(this,b);return d?((this.inlineStack.length||this.compileStack.length)&&this.popStack(),this.push("("+c+g+")")):(/^stack/.test(b)||(b=this.nextStack()),this.source.push(b+" = ("+c+g+");")),b},nextStack:function(){return this.pushStack()},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var a=this.inlineStack;if(a.length){this.inlineStack=[];for(var b=0,c=a.length;c>b;b++){var d=a[b];d instanceof n?this.compileStack.push(d):this.pushStack(d)}}},isInline:function(){return this.inlineStack.length},popStack:function(a){var b=this.isInline(),c=(b?this.inlineStack:this.compileStack).pop();return!a&&c instanceof n?c.value:(b||this.stackSlot--,c)},topStack:function(a){var b=this.isInline()?this.inlineStack:this.compileStack,c=b[b.length-1];return!a&&c instanceof n?c.value:c},quotedString:function(a){return'"'+a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},setupHelper:function(a,b,c){var d=[];this.setupParams(a,d,c);var e=this.nameLookup("helpers",b,"helper");return{params:d,name:e,callParams:["depth0"].concat(d).join(", "),helperMissingParams:c&&["depth0",this.quotedString(b)].concat(d).join(", ")}},setupParams:function(a,b,c){var d,e,f,g=[],h=[],i=[];g.push("hash:"+this.popStack()),e=this.popStack(),f=this.popStack(),(f||e)&&(f||(this.context.aliases.self="this",f="self.noop"),e||(this.context.aliases.self="this",e="self.noop"),g.push("inverse:"+e),g.push("fn:"+f));for(var j=0;a>j;j++)d=this.popStack(),b.push(d),this.options.stringParams&&(i.push(this.popStack()),h.push(this.popStack()));return this.options.stringParams&&(g.push("contexts:["+h.join(",")+"]"),g.push("types:["+i.join(",")+"]"),g.push("hashContexts:hashContexts"),g.push("hashTypes:hashTypes")),this.options.data&&g.push("data:data"),g="{"+g.join(",")+"}",c?(this.register("options",g),b.push("options")):b.push(g),b.join(", ")}};for(var o="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),p=m.RESERVED_WORDS={},q=0,r=o.length;r>q;q++)p[o[q]]=!0;m.isValidJavaScriptVariableName=function(a){return!m.RESERVED_WORDS[a]&&/^[a-zA-Z_$][0-9a-zA-Z_$]+$/.test(a)?!0:!1},a.precompile=function(b,c){if(null==b||"string"!=typeof b&&b.constructor!==a.AST.ProgramNode)throw new a.Exception("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+b);c=c||{},"data"in c||(c.data=!0);var d=a.parse(b),e=(new l).compile(d,c);return(new m).compile(e,c)},a.compile=function(c,d){function e(){var e=a.parse(c),f=(new l).compile(e,d),g=(new m).compile(f,d,b,!0);return a.template(g)}if(null==c||"string"!=typeof c&&c.constructor!==a.AST.ProgramNode)throw new a.Exception("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+c);d=d||{},"data"in d||(d.data=!0);var f;return function(a,b){return f||(f=e()),f.call(this,a,b)}},a.VM={template:function(b){var c={escapeExpression:a.Utils.escapeExpression,invokePartial:a.VM.invokePartial,programs:[],program:function(b,c,d){var e=this.programs[b];return d?e=a.VM.program(b,c,d):e||(e=this.programs[b]=a.VM.program(b,c)),e},merge:function(b,c){var d=b||c;return b&&c&&(d={},a.Utils.extend(d,c),a.Utils.extend(d,b)),d},programWithDepth:a.VM.programWithDepth,noop:a.VM.noop,compilerInfo:null};return function(d,e){e=e||{};var f=b.call(c,a,d,e.helpers,e.partials,e.data),g=c.compilerInfo||[],h=g[0]||1,i=a.COMPILER_REVISION;if(h!==i){if(i>h){var j=a.REVISION_CHANGES[i],k=a.REVISION_CHANGES[h];throw"Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+j+") or downgrade your runtime to an older version ("+k+")."}throw"Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+g[1]+")."}return f}},programWithDepth:function(a,b,c){var d=Array.prototype.slice.call(arguments,3),e=function(a,e){return e=e||{},b.apply(this,[a,e.data||c].concat(d))};return e.program=a,e.depth=d.length,e},program:function(a,b,c){var d=function(a,d){return d=d||{},b(a,d.data||c)};return d.program=a,d.depth=0,d},noop:function(){return""},invokePartial:function(c,d,e,f,g,h){var i={helpers:f,partials:g,data:h};if(c===b)throw new a.Exception("The partial "+d+" could not be found");if(c instanceof Function)return c(e,i);if(a.compile)return g[d]=a.compile(c,{data:h!==b}),g[d](e,i);throw new a.Exception("The partial "+d+" could not be compiled when running in runtime-only mode")}},a.template=a.VM.template}(Handlebars),function(a){"use strict";var b={};a.fn.render=function(c,d){return b.hasOwnProperty(c)||(b[c]=Handlebars.compile(a("#template_"+c).html())),this.html(b[c](d)),this}}(jQuery),!function(a){"use strict";a(function(){a.support.transition=function(){var a=function(){var a,b=document.createElement("bootstrap"),c={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(a in c)if(void 0!==b.style[a])return c[a]}();return a&&{end:a}}()})}(window.jQuery),!function(a){"use strict";var b='[data-dismiss="alert"]',c=function(c){a(c).on("click",b,this.close)};c.prototype.close=function(b){function c(){d.trigger("closed").remove()}var d,e=a(this),f=e.attr("data-target");f||(f=e.attr("href"),f=f&&f.replace(/.*(?=#[^\s]*$)/,"")),d=a(f),b&&b.preventDefault(),d.length||(d=e.hasClass("alert")?e:e.parent()),d.trigger(b=a.Event("close")),b.isDefaultPrevented()||(d.removeClass("in"),a.support.transition&&d.hasClass("fade")?d.on(a.support.transition.end,c):c())};var d=a.fn.alert;a.fn.alert=function(b){return this.each(function(){var d=a(this),e=d.data("alert");e||d.data("alert",e=new c(this)),"string"==typeof b&&e[b].call(d)})},a.fn.alert.Constructor=c,a.fn.alert.noConflict=function(){return a.fn.alert=d,this},a(document).on("click.alert.data-api",b,c.prototype.close)}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.button.defaults,c)};b.prototype.setState=function(a){var b="disabled",c=this.$element,d=c.data(),e=c.is("input")?"val":"html";a+="Text",d.resetText||c.data("resetText",c[e]()),c[e](d[a]||this.options[a]),setTimeout(function(){"loadingText"==a?c.addClass(b).attr(b,b):c.removeClass(b).removeAttr(b)},0)},b.prototype.toggle=function(){var a=this.$element.closest('[data-toggle="buttons-radio"]');a&&a.find(".active").removeClass("active"),this.$element.toggleClass("active")};var c=a.fn.button;a.fn.button=function(c){return this.each(function(){var d=a(this),e=d.data("button"),f="object"==typeof c&&c;e||d.data("button",e=new b(this,f)),"toggle"==c?e.toggle():c&&e.setState(c)})},a.fn.button.defaults={loadingText:"loading..."},a.fn.button.Constructor=b,a.fn.button.noConflict=function(){return a.fn.button=c,this},a(document).on("click.button.data-api","[data-toggle^=button]",function(b){var c=a(b.target);c.hasClass("btn")||(c=c.closest(".btn")),c.button("toggle")})}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,"hover"==this.options.pause&&this.$element.on("mouseenter",a.proxy(this.pause,this)).on("mouseleave",a.proxy(this.cycle,this))};b.prototype={cycle:function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},getActiveIndex:function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},to:function(b){var c=this.getActiveIndex(),d=this;if(!(b>this.$items.length-1||0>b))return this.sliding?this.$element.one("slid",function(){d.to(b)}):c==b?this.pause().cycle():this.slide(b>c?"next":"prev",a(this.$items[b]))},pause:function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition.end&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),clearInterval(this.interval),this.interval=null,this},next:function(){return this.sliding?void 0:this.slide("next")},prev:function(){return this.sliding?void 0:this.slide("prev")},slide:function(b,c){var d,e=this.$element.find(".item.active"),f=c||e[b](),g=this.interval,h="next"==b?"left":"right",i="next"==b?"first":"last",j=this;if(this.sliding=!0,g&&this.pause(),f=f.length?f:this.$element.find(".item")[i](),d=a.Event("slide",{relatedTarget:f[0],direction:h}),!f.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var b=a(j.$indicators.children()[j.getActiveIndex()]);b&&b.addClass("active")})),a.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(d),d.isDefaultPrevented())return;f.addClass(b),f[0].offsetWidth,e.addClass(h),f.addClass(h),this.$element.one(a.support.transition.end,function(){f.removeClass([b,h].join(" ")).addClass("active"),e.removeClass(["active",h].join(" ")),j.sliding=!1,setTimeout(function(){j.$element.trigger("slid")},0)})}else{if(this.$element.trigger(d),d.isDefaultPrevented())return;e.removeClass("active"),f.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return g&&this.cycle(),this}}};var c=a.fn.carousel;a.fn.carousel=function(c){return this.each(function(){var d=a(this),e=d.data("carousel"),f=a.extend({},a.fn.carousel.defaults,"object"==typeof c&&c),g="string"==typeof c?c:f.slide;e||d.data("carousel",e=new b(this,f)),"number"==typeof c?e.to(c):g?e[g]():f.interval&&e.pause().cycle()})},a.fn.carousel.defaults={interval:5e3,pause:"hover"},a.fn.carousel.Constructor=b,a.fn.carousel.noConflict=function(){return a.fn.carousel=c,this},a(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(b){var c,d,e=a(this),f=a(e.attr("data-target")||(c=e.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"")),g=a.extend({},f.data(),e.data());f.carousel(g),(d=e.attr("data-slide-to"))&&f.data("carousel").pause().to(d).cycle(),b.preventDefault()})}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.collapse.defaults,c),this.options.parent&&(this.$parent=a(this.options.parent)),this.options.toggle&&this.toggle()};b.prototype={constructor:b,dimension:function(){var a=this.$element.hasClass("width");return a?"width":"height"},show:function(){var b,c,d,e;if(!this.transitioning&&!this.$element.hasClass("in")){if(b=this.dimension(),c=a.camelCase(["scroll",b].join("-")),d=this.$parent&&this.$parent.find("> .accordion-group > .in"),d&&d.length){if(e=d.data("collapse"),e&&e.transitioning)return;d.collapse("hide"),e||d.data("collapse",null)}this.$element[b](0),this.transition("addClass",a.Event("show"),"shown"),a.support.transition&&this.$element[b](this.$element[0][c])}},hide:function(){var b;!this.transitioning&&this.$element.hasClass("in")&&(b=this.dimension(),this.reset(this.$element[b]()),this.transition("removeClass",a.Event("hide"),"hidden"),this.$element[b](0))},reset:function(a){var b=this.dimension();return this.$element.removeClass("collapse")[b](a||"auto")[0].offsetWidth,this.$element[null!==a?"addClass":"removeClass"]("collapse"),this},transition:function(b,c,d){var e=this,f=function(){"show"==c.type&&e.reset(),e.transitioning=0,e.$element.trigger(d)};this.$element.trigger(c),c.isDefaultPrevented()||(this.transitioning=1,this.$element[b]("in"),a.support.transition&&this.$element.hasClass("collapse")?this.$element.one(a.support.transition.end,f):f())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var c=a.fn.collapse;a.fn.collapse=function(c){return this.each(function(){var d=a(this),e=d.data("collapse"),f=a.extend({},a.fn.collapse.defaults,d.data(),"object"==typeof c&&c);e||d.data("collapse",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.collapse.defaults={toggle:!0},a.fn.collapse.Constructor=b,a.fn.collapse.noConflict=function(){return a.fn.collapse=c,this},a(document).on("click.collapse.data-api","[data-toggle=collapse]",function(b){var c,d=a(this),e=d.attr("data-target")||b.preventDefault()||(c=d.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,""),f=a(e).data("collapse")?"toggle":d.data();d[a(e).hasClass("in")?"addClass":"removeClass"]("collapsed"),a(e).collapse(f)})}(window.jQuery),!function(a){"use strict";function b(){a(".dropdown-backdrop").remove(),a(d).each(function(){c(a(this)).removeClass("open")})}function c(b){var c,d=b.attr("data-target");return d||(d=b.attr("href"),d=d&&/#/.test(d)&&d.replace(/.*(?=#[^\s]*$)/,"")),c=d&&a(d),c&&c.length||(c=b.parent()),c}var d="[data-toggle=dropdown]",e=function(b){var c=a(b).on("click.dropdown.data-api",this.toggle);a("html").on("click.dropdown.data-api",function(){c.parent().removeClass("open")})};e.prototype={constructor:e,toggle:function(){var d,e,f=a(this);if(!f.is(".disabled, :disabled"))return d=c(f),e=d.hasClass("open"),b(),e||("ontouchstart"in document.documentElement&&a('<div class="dropdown-backdrop"/>').insertBefore(a(this)).on("click",b),d.toggleClass("open")),f.focus(),!1},keydown:function(b){var e,f,g,h,i;if(/(38|40|27)/.test(b.keyCode)&&(e=a(this),b.preventDefault(),b.stopPropagation(),!e.is(".disabled, :disabled"))){if(g=c(e),h=g.hasClass("open"),!h||h&&27==b.keyCode)return 27==b.which&&g.find(d).focus(),e.click();f=a("[role=menu] li:not(.divider):visible a",g),f.length&&(i=f.index(f.filter(":focus")),38==b.keyCode&&i>0&&i--,40==b.keyCode&&i<f.length-1&&i++,~i||(i=0),f.eq(i).focus())}}};var f=a.fn.dropdown;a.fn.dropdown=function(b){return this.each(function(){var c=a(this),d=c.data("dropdown");d||c.data("dropdown",d=new e(this)),"string"==typeof b&&d[b].call(c)})},a.fn.dropdown.Constructor=e,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=f,this},a(document).on("click.dropdown.data-api",b).on("click.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.dropdown.data-api",d,e.prototype.toggle).on("keydown.dropdown.data-api",d+", [role=menu]",e.prototype.keydown)}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.options=c,this.$element=a(b).delegate('[data-dismiss="modal"]',"click.dismiss.modal",a.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};b.prototype={constructor:b,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var b=this,c=a.Event("show");this.$element.trigger(c),this.isShown||c.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var c=a.support.transition&&b.$element.hasClass("fade");b.$element.parent().length||b.$element.appendTo(document.body),b.$element.show(),c&&b.$element[0].offsetWidth,b.$element.addClass("in").attr("aria-hidden",!1),b.enforceFocus(),c?b.$element.one(a.support.transition.end,function(){b.$element.focus().trigger("shown")}):b.$element.focus().trigger("shown")}))},hide:function(b){b&&b.preventDefault(),b=a.Event("hide"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),a(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),a.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var b=this;a(document).on("focusin.modal",function(a){b.$element[0]===a.target||b.$element.has(a.target).length||b.$element.focus()})},escape:function(){var a=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(b){27==b.which&&a.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var b=this,c=setTimeout(function(){b.$element.off(a.support.transition.end),b.hideModal()},500);this.$element.one(a.support.transition.end,function(){clearTimeout(c),b.hideModal()})},hideModal:function(){var a=this;this.$element.hide(),this.backdrop(function(){a.removeBackdrop(),a.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(b){var c=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var d=a.support.transition&&c;if(this.$backdrop=a('<div class="modal-backdrop '+c+'" />').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?a.proxy(this.$element[0].focus,this.$element[0]):a.proxy(this.hide,this)),d&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;d?this.$backdrop.one(a.support.transition.end,b):b()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.support.transition.end,b):b()):b&&b()}};var c=a.fn.modal;a.fn.modal=function(c){return this.each(function(){var d=a(this),e=d.data("modal"),f=a.extend({},a.fn.modal.defaults,d.data(),"object"==typeof c&&c);e||d.data("modal",e=new b(this,f)),"string"==typeof c?e[c]():f.show&&e.show()})},a.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},a.fn.modal.Constructor=b,a.fn.modal.noConflict=function(){return a.fn.modal=c,this},a(document).on("click.modal.data-api",'[data-toggle="modal"]',function(b){var c=a(this),d=c.attr("href"),e=a(c.attr("data-target")||d&&d.replace(/.*(?=#[^\s]+$)/,"")),f=e.data("modal")?"toggle":a.extend({remote:!/#/.test(d)&&d},e.data(),c.data());b.preventDefault(),e.modal(f).one("hide",function(){c.focus()})})}(window.jQuery),!function(a){"use strict";var b=function(a,b){this.init("tooltip",a,b)};b.prototype={constructor:b,init:function(b,c,d){var e,f,g,h,i;for(this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.enabled=!0,g=this.options.trigger.split(" "),i=g.length;i--;)h=g[i],"click"==h?this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this)):"manual"!=h&&(e="hover"==h?"mouseenter":"focus",f="hover"==h?"mouseleave":"blur",this.$element.on(e+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(f+"."+this.type,this.options.selector,a.proxy(this.leave,this)));this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(b){return b=a.extend({},a.fn[this.type].defaults,this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},enter:function(b){var c,d=a.fn[this.type].defaults,e={};return this._options&&a.each(this._options,function(a,b){d[a]!=b&&(e[a]=b)},this),c=a(b.currentTarget)[this.type](e).data(this.type),c.options.delay&&c.options.delay.show?(clearTimeout(this.timeout),c.hoverState="in",this.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show),void 0):c.show()},leave:function(b){var c=a(b.currentTarget)[this.type](this._options).data(this.type);return this.timeout&&clearTimeout(this.timeout),c.options.delay&&c.options.delay.hide?(c.hoverState="out",this.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide),void 0):c.hide()},show:function(){var b,c,d,e,f,g,h=a.Event("show");if(this.hasContent()&&this.enabled){if(this.$element.trigger(h),h.isDefaultPrevented())return;switch(b=this.tip(),this.setContent(),this.options.animation&&b.addClass("fade"),f="function"==typeof this.options.placement?this.options.placement.call(this,b[0],this.$element[0]):this.options.placement,b.detach().css({top:0,left:0,display:"block"}),this.options.container?b.appendTo(this.options.container):b.insertAfter(this.$element),c=this.getPosition(),d=b[0].offsetWidth,e=b[0].offsetHeight,f){case"bottom":g={top:c.top+c.height,left:c.left+c.width/2-d/2};break;case"top":g={top:c.top-e,left:c.left+c.width/2-d/2};break;case"left":g={top:c.top+c.height/2-e/2,left:c.left-d};break;case"right":g={top:c.top+c.height/2-e/2,left:c.left+c.width}}this.applyPlacement(g,f),this.$element.trigger("shown")}},applyPlacement:function(a,b){var c,d,e,f,g=this.tip(),h=g[0].offsetWidth,i=g[0].offsetHeight;g.offset(a).addClass(b).addClass("in"),c=g[0].offsetWidth,d=g[0].offsetHeight,"top"==b&&d!=i&&(a.top=a.top+i-d,f=!0),"bottom"==b||"top"==b?(e=0,a.left<0&&(e=-2*a.left,a.left=0,g.offset(a),c=g[0].offsetWidth,d=g[0].offsetHeight),this.replaceArrow(e-h+c,c,"left")):this.replaceArrow(d-i,d,"top"),f&&g.offset(a)},replaceArrow:function(a,b,c){this.arrow().css(c,a?50*(1-a/b)+"%":"")},setContent:function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},hide:function(){function b(){var b=setTimeout(function(){c.off(a.support.transition.end).detach()},500);c.one(a.support.transition.end,function(){clearTimeout(b),c.detach()})}var c=this.tip(),d=a.Event("hide");return this.$element.trigger(d),d.isDefaultPrevented()?void 0:(c.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?b():c.detach(),this.$element.trigger("hidden"),this)},fixTitle:function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var b=this.$element[0];return a.extend({},"function"==typeof b.getBoundingClientRect?b.getBoundingClientRect():{width:b.offsetWidth,height:b.offsetHeight},this.$element.offset())},getTitle:function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},tip:function(){return this.$tip=this.$tip||a(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(b){var c=b?a(b.currentTarget)[this.type](this._options).data(this.type):this;c.tip().hasClass("in")?c.hide():c.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var c=a.fn.tooltip;a.fn.tooltip=function(c){return this.each(function(){var d=a(this),e=d.data("tooltip"),f="object"==typeof c&&c;e||d.data("tooltip",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.tooltip.Constructor=b,a.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},a.fn.tooltip.noConflict=function(){return a.fn.tooltip=c,this}}(window.jQuery),!function(a){"use strict";var b=function(a,b){this.init("popover",a,b)};b.prototype=a.extend({},a.fn.tooltip.Constructor.prototype,{constructor:b,setContent:function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content")[this.options.html?"html":"text"](c),a.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var a,b=this.$element,c=this.options;return a=("function"==typeof c.content?c.content.call(b[0]):c.content)||b.attr("data-content")},tip:function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var c=a.fn.popover;a.fn.popover=function(c){return this.each(function(){var d=a(this),e=d.data("popover"),f="object"==typeof c&&c;e||d.data("popover",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.popover.Constructor=b,a.fn.popover.defaults=a.extend({},a.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),a.fn.popover.noConflict=function(){return a.fn.popover=c,this}}(window.jQuery),!function(a){"use strict";function b(b,c){var d,e=a.proxy(this.process,this),f=a(b).is("body")?a(window):a(b);this.options=a.extend({},a.fn.scrollspy.defaults,c),this.$scrollElement=f.on("scroll.scroll-spy.data-api",e),this.selector=(this.options.target||(d=a(b).attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=a("body"),this.refresh(),this.process()}b.prototype={constructor:b,refresh:function(){var b,c=this;this.offsets=a([]),this.targets=a([]),b=this.$body.find(this.selector).map(function(){var b=a(this),d=b.data("target")||b.attr("href"),e=/^#\w/.test(d)&&a(d);return e&&e.length&&[[e.position().top+(!a.isWindow(c.$scrollElement.get(0))&&c.$scrollElement.scrollTop()),d]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){c.offsets.push(this[0]),c.targets.push(this[1])})},process:function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,d=c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(b>=d)return g!=(a=f.last()[0])&&this.activate(a);for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(!e[a+1]||b<=e[a+1])&&this.activate(f[a])},activate:function(b){var c,d;this.activeTarget=b,a(this.selector).parent(".active").removeClass("active"),d=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',c=a(d).parent("li").addClass("active"),c.parent(".dropdown-menu").length&&(c=c.closest("li.dropdown").addClass("active")),c.trigger("activate")}};var c=a.fn.scrollspy;a.fn.scrollspy=function(c){return this.each(function(){var d=a(this),e=d.data("scrollspy"),f="object"==typeof c&&c;e||d.data("scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.scrollspy.Constructor=b,a.fn.scrollspy.defaults={offset:10},a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=c,this},a(window).on("load",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);b.scrollspy(b.data())})})}(window.jQuery),!function(a){"use strict";var b=function(b){this.element=a(b)};b.prototype={constructor:b,show:function(){var b,c,d,e=this.element,f=e.closest("ul:not(.dropdown-menu)"),g=e.attr("data-target");g||(g=e.attr("href"),g=g&&g.replace(/.*(?=#[^\s]*$)/,"")),e.parent("li").hasClass("active")||(b=f.find(".active:last a")[0],d=a.Event("show",{relatedTarget:b}),e.trigger(d),d.isDefaultPrevented()||(c=a(g),this.activate(e.parent("li"),f),this.activate(c,c.parent(),function(){e.trigger({type:"shown",relatedTarget:b})})))},activate:function(b,c,d){function e(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),b.addClass("active"),g?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active"),d&&d()}var f=c.find("> .active"),g=d&&a.support.transition&&f.hasClass("fade");g?f.one(a.support.transition.end,e):e(),f.removeClass("in")}};var c=a.fn.tab;a.fn.tab=function(c){return this.each(function(){var d=a(this),e=d.data("tab");e||d.data("tab",e=new b(this)),"string"==typeof c&&e[c]()})},a.fn.tab.Constructor=b,a.fn.tab.noConflict=function(){return a.fn.tab=c,this},a(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(b){b.preventDefault(),a(this).tab("show")})}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.typeahead.defaults,c),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=a(this.options.menu),this.shown=!1,this.listen()};b.prototype={constructor:b,select:function(){var a=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(a)).change(),this.hide()},updater:function(a){return a},show:function(){var b=a.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:b.top+b.height,left:b.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(){var b;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(b=a.isFunction(this.source)?this.source(this.query,a.proxy(this.process,this)):this.source,b?this.process(b):this)},process:function(b){var c=this;return b=a.grep(b,function(a){return c.matcher(a)}),b=this.sorter(b),b.length?this.render(b.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(a){return~a.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(a){for(var b,c=[],d=[],e=[];b=a.shift();)b.toLowerCase().indexOf(this.query.toLowerCase())?~b.indexOf(this.query)?d.push(b):e.push(b):c.push(b);return c.concat(d,e)},highlighter:function(a){var b=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return a.replace(new RegExp("("+b+")","ig"),function(a,b){return"<strong>"+b+"</strong>"})},render:function(b){var c=this;return b=a(b).map(function(b,d){return b=a(c.options.item).attr("data-value",d),b.find("a").html(c.highlighter(d)),b[0]}),b.first().addClass("active"),this.$menu.html(b),this},next:function(){var b=this.$menu.find(".active").removeClass("active"),c=b.next();c.length||(c=a(this.$menu.find("li")[0])),c.addClass("active")},prev:function(){var a=this.$menu.find(".active").removeClass("active"),b=a.prev();
b.length||(b=this.$menu.find("li").last()),b.addClass("active")},listen:function(){this.$element.on("focus",a.proxy(this.focus,this)).on("blur",a.proxy(this.blur,this)).on("keypress",a.proxy(this.keypress,this)).on("keyup",a.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",a.proxy(this.keydown,this)),this.$menu.on("click",a.proxy(this.click,this)).on("mouseenter","li",a.proxy(this.mouseenter,this)).on("mouseleave","li",a.proxy(this.mouseleave,this))},eventSupported:function(a){var b=a in this.$element;return b||(this.$element.setAttribute(a,"return;"),b="function"==typeof this.$element[a]),b},move:function(a){if(this.shown){switch(a.keyCode){case 9:case 13:case 27:a.preventDefault();break;case 38:a.preventDefault(),this.prev();break;case 40:a.preventDefault(),this.next()}a.stopPropagation()}},keydown:function(b){this.suppressKeyPressRepeat=~a.inArray(b.keyCode,[40,38,9,13,27]),this.move(b)},keypress:function(a){this.suppressKeyPressRepeat||this.move(a)},keyup:function(a){switch(a.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}a.stopPropagation(),a.preventDefault()},focus:function(){this.focused=!0},blur:function(){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(a){a.stopPropagation(),a.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(b){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),a(b.currentTarget).addClass("active")},mouseleave:function(){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var c=a.fn.typeahead;a.fn.typeahead=function(c){return this.each(function(){var d=a(this),e=d.data("typeahead"),f="object"==typeof c&&c;e||d.data("typeahead",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},a.fn.typeahead.Constructor=b,a.fn.typeahead.noConflict=function(){return a.fn.typeahead=c,this},a(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(){var b=a(this);b.data("typeahead")||b.typeahead(b.data())})}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.options=a.extend({},a.fn.affix.defaults,c),this.$window=a(window).on("scroll.affix.data-api",a.proxy(this.checkPosition,this)).on("click.affix.data-api",a.proxy(function(){setTimeout(a.proxy(this.checkPosition,this),1)},this)),this.$element=a(b),this.checkPosition()};b.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b,c=a(document).height(),d=this.$window.scrollTop(),e=this.$element.offset(),f=this.options.offset,g=f.bottom,h=f.top,i="affix affix-top affix-bottom";"object"!=typeof f&&(g=h=f),"function"==typeof h&&(h=f.top()),"function"==typeof g&&(g=f.bottom()),b=null!=this.unpin&&d+this.unpin<=e.top?!1:null!=g&&e.top+this.$element.height()>=c-g?"bottom":null!=h&&h>=d?"top":!1,this.affixed!==b&&(this.affixed=b,this.unpin="bottom"==b?e.top-d:null,this.$element.removeClass(i).addClass("affix"+(b?"-"+b:"")))}};var c=a.fn.affix;a.fn.affix=function(c){return this.each(function(){var d=a(this),e=d.data("affix"),f="object"==typeof c&&c;e||d.data("affix",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.affix.Constructor=b,a.fn.affix.defaults={offset:0},a.fn.affix.noConflict=function(){return a.fn.affix=c,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var b=a(this),c=b.data();c.offset=c.offset||{},c.offsetBottom&&(c.offset.bottom=c.offsetBottom),c.offsetTop&&(c.offset.top=c.offsetTop),b.affix(c)})})}(window.jQuery),!function(a){"use strict";var b=a();a.fn.dropdownHover=function(){return b=b.add(this.parent()),this.each(function(){var c,d=a(this).parent(),e={delay:500,instantlyCloseOthers:!0},f={delay:a(this).data("delay"),instantlyCloseOthers:a(this).data("close-others")},g=a.extend(!0,{},e,g,f);d.hover(function(){g.instantlyCloseOthers===!0&&b.removeClass("open"),window.clearTimeout(c),a(this).addClass("open")},function(){c=window.setTimeout(function(){d.removeClass("open")},g.delay)})})},a(document).ready(function(){a('[data-hover="dropdown"]').dropdownHover()})}(window.jQuery),function(a,b){function c(b,c){var e,f,g,h=b.nodeName.toLowerCase();return"area"===h?(e=b.parentNode,f=e.name,b.href&&f&&"map"===e.nodeName.toLowerCase()?(g=a("img[usemap=#"+f+"]")[0],!!g&&d(g)):!1):(/input|select|textarea|button|object/.test(h)?!b.disabled:"a"===h?b.href||c:c)&&d(b)}function d(b){return a.expr.filters.visible(b)&&!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}var e=0,f=/^ui-id-\d+$/;a.ui=a.ui||{},a.extend(a.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),a.fn.extend({focus:function(b){return function(c,d){return"number"==typeof c?this.each(function(){var b=this;setTimeout(function(){a(b).focus(),d&&d.call(b)},c)}):b.apply(this,arguments)}}(a.fn.focus),scrollParent:function(){var b;return b=a.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.css(this,"position"))&&/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!b.length?a(document):b},zIndex:function(c){if(c!==b)return this.css("zIndex",c);if(this.length)for(var d,e,f=a(this[0]);f.length&&f[0]!==document;){if(d=f.css("position"),("absolute"===d||"relative"===d||"fixed"===d)&&(e=parseInt(f.css("zIndex"),10),!isNaN(e)&&0!==e))return e;f=f.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})},removeUniqueId:function(){return this.each(function(){f.test(this.id)&&a(this).removeAttr("id")})}}),a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){return c(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var d=a.attr(b,"tabindex"),e=isNaN(d);return(e||d>=0)&&c(b,!e)}}),a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(c,d){function e(b,c,d,e){return a.each(f,function(){c-=parseFloat(a.css(b,"padding"+this))||0,d&&(c-=parseFloat(a.css(b,"border"+this+"Width"))||0),e&&(c-=parseFloat(a.css(b,"margin"+this))||0)}),c}var f="Width"===d?["Left","Right"]:["Top","Bottom"],g=d.toLowerCase(),h={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+d]=function(c){return c===b?h["inner"+d].call(this):this.each(function(){a(this).css(g,e(this,c)+"px")})},a.fn["outer"+d]=function(b,c){return"number"!=typeof b?h["outer"+d].call(this,b):this.each(function(){a(this).css(g,e(this,b,!0,c)+"px")})}}),a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),a("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(a.fn.removeData=function(b){return function(c){return arguments.length?b.call(this,a.camelCase(c)):b.call(this)}}(a.fn.removeData)),a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),a.support.selectstart="onselectstart"in document.createElement("div"),a.fn.extend({disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a.extend(a.ui,{plugin:{add:function(b,c,d){var e,f=a.ui[b].prototype;for(e in d)f.plugins[e]=f.plugins[e]||[],f.plugins[e].push([c,d[e]])},call:function(a,b,c){var d,e=a.plugins[b];if(e&&a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType)for(d=0;d<e.length;d++)a.options[e[d][0]]&&e[d][1].apply(a.element,c)}},hasScroll:function(b,c){if("hidden"===a(b).css("overflow"))return!1;var d=c&&"left"===c?"scrollLeft":"scrollTop",e=!1;return b[d]>0?!0:(b[d]=1,e=b[d]>0,b[d]=0,e)}})}(jQuery),function(a,b){var c=0,d=Array.prototype.slice,e=a.cleanData;a.cleanData=function(b){for(var c,d=0;null!=(c=b[d]);d++)try{a(c).triggerHandler("remove")}catch(f){}e(b)},a.widget=function(b,c,d){var e,f,g,h,i={},j=b.split(".")[0];b=b.split(".")[1],e=j+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][e.toLowerCase()]=function(b){return!!a.data(b,e)},a[j]=a[j]||{},f=a[j][b],g=a[j][b]=function(a,b){return this._createWidget?(arguments.length&&this._createWidget(a,b),void 0):new g(a,b)},a.extend(g,f,{version:d.version,_proto:a.extend({},d),_childConstructors:[]}),h=new c,h.options=a.widget.extend({},h.options),a.each(d,function(b,d){return a.isFunction(d)?(i[b]=function(){var a=function(){return c.prototype[b].apply(this,arguments)},e=function(a){return c.prototype[b].apply(this,a)};return function(){var b,c=this._super,f=this._superApply;return this._super=a,this._superApply=e,b=d.apply(this,arguments),this._super=c,this._superApply=f,b}}(),void 0):(i[b]=d,void 0)}),g.prototype=a.widget.extend(h,{widgetEventPrefix:f?h.widgetEventPrefix:b},i,{constructor:g,namespace:j,widgetName:b,widgetFullName:e}),f?(a.each(f._childConstructors,function(b,c){var d=c.prototype;a.widget(d.namespace+"."+d.widgetName,g,c._proto)}),delete f._childConstructors):c._childConstructors.push(g),a.widget.bridge(b,g)},a.widget.extend=function(c){for(var e,f,g=d.call(arguments,1),h=0,i=g.length;i>h;h++)for(e in g[h])f=g[h][e],g[h].hasOwnProperty(e)&&f!==b&&(c[e]=a.isPlainObject(f)?a.isPlainObject(c[e])?a.widget.extend({},c[e],f):a.widget.extend({},f):f);return c},a.widget.bridge=function(c,e){var f=e.prototype.widgetFullName||c;a.fn[c]=function(g){var h="string"==typeof g,i=d.call(arguments,1),j=this;return g=!h&&i.length?a.widget.extend.apply(null,[g].concat(i)):g,h?this.each(function(){var d,e=a.data(this,f);return e?a.isFunction(e[g])&&"_"!==g.charAt(0)?(d=e[g].apply(e,i),d!==e&&d!==b?(j=d&&d.jquery?j.pushStack(d.get()):d,!1):void 0):a.error("no such method '"+g+"' for "+c+" widget instance"):a.error("cannot call methods on "+c+" prior to initialization; "+"attempted to call method '"+g+"'")}):this.each(function(){var b=a.data(this,f);b?b.option(g||{})._init():a.data(this,f,new e(g,this))}),j}},a.Widget=function(){},a.Widget._childConstructors=[],a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,d){d=a(d||this.defaultElement||this)[0],this.element=a(d),this.uuid=c++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=a.widget.extend({},this.options,this._getCreateOptions(),b),this.bindings=a(),this.hoverable=a(),this.focusable=a(),d!==this&&(a.data(d,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===d&&this.destroy()}}),this.document=a(d.style?d.ownerDocument:d.document||d),this.window=a(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},option:function(c,d){var e,f,g,h=c;if(0===arguments.length)return a.widget.extend({},this.options);if("string"==typeof c)if(h={},e=c.split("."),c=e.shift(),e.length){for(f=h[c]=a.widget.extend({},this.options[c]),g=0;g<e.length-1;g++)f[e[g]]=f[e[g]]||{},f=f[e[g]];if(c=e.pop(),d===b)return f[c]===b?null:f[c];f[c]=d}else{if(d===b)return this.options[c]===b?null:this.options[c];h[c]=d}return this._setOptions(h),this},_setOptions:function(a){var b;for(b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){return this.options[a]=b,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(b,c,d){var e,f=this;"boolean"!=typeof b&&(d=c,c=b,b=!1),d?(c=e=a(c),this.bindings=this.bindings.add(c)):(d=c,c=this.element,e=this.widget()),a.each(d,function(d,g){function h(){return b||f.options.disabled!==!0&&!a(this).hasClass("ui-state-disabled")?("string"==typeof g?f[g]:g).apply(f,arguments):void 0}"string"!=typeof g&&(h.guid=g.guid=g.guid||h.guid||a.guid++);var i=d.match(/^(\w+)\s*(.*)$/),j=i[1]+f.eventNamespace,k=i[2];k?e.delegate(k,j,h):c.bind(j,h)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,a.unbind(b).undelegate(b)},_delay:function(a,b){function c(){return("string"==typeof a?d[a]:a).apply(d,arguments)}var d=this;return setTimeout(c,b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b),this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b),this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,c,d){var e,f,g=this.options[b];if(d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&g.apply(this.element[0],[c].concat(d))===!1||c.isDefaultPrevented())}},a.each({show:"fadeIn",hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(d,e,f){"string"==typeof e&&(e={effect:e});var g,h=e?e===!0||"number"==typeof e?c:e.effect||c:b;e=e||{},"number"==typeof e&&(e={duration:e}),g=!a.isEmptyObject(e),e.complete=f,e.delay&&d.delay(e.delay),g&&a.effects&&a.effects.effect[h]?d[b](e):h!==b&&d[h]?d[h](e.duration,e.easing,f):d.queue(function(c){a(this)[b](),f&&f.call(d[0]),c()})}})}(jQuery),function(a){"use strict";a(window.jQuery,window,document)}(function(a,b,c){"use strict";a.widget("selectBox.selectBoxIt",{VERSION:"2.8.0",options:{showEffect:"none",showEffectOptions:{},showEffectSpeed:"medium",hideEffect:"none",hideEffectOptions:{},hideEffectSpeed:"medium",showFirstOption:!0,defaultText:"",defaultIcon:"",downArrowIcon:"",theme:"bootstrap",keydownOpen:!0,isMobile:function(){var a=navigator.userAgent||navigator.vendor||b.opera;return/iPhone|iPod|iPad|Android|BlackBerry|Opera Mini|IEMobile/.test(a)},nostyle:!1,"native":!1,aggressiveChange:!1},_create:function(){var b=this;if(b.element.is(":visible"))return b.originalElem=b.element[0],b.selectBox=b.element,b.selectItems=b.element.find("option"),b.firstSelectItem=b.element.find("option").slice(0,1),b.currentFocus=0,b.blur=!0,b.documentHeight=a(c).height(),b.textArray=[],b.currentIndex=0,b.flipped=!1,b.disabledClasses=function(){return"bootstrap"===b.options.theme?"disabled":"jqueryui"===b.options.theme?"ui-state-disabled":"jquerymobile"===b.options.theme?"ui-disabled":"selectboxit-disabled"}(),b._createdropdown()._createUnorderedList()._addSelectBoxAttributes()._replaceSelectBox()._eventHandlers(),b.originalElem.disabled&&b.disable&&b.disable(),b._ariaAccessibility&&b._ariaAccessibility(),"bootstrap"===b.options.theme?b._twitterbootstrap():"jqueryui"===this.options.theme?b._jqueryui():"jquerymobile"===this.options.theme?b._jquerymobile():b._addClasses(),b._mobile(),b.options["native"]&&this._applyNativeSelect(),b.triggerEvent("create"),b},_createdropdown:function(){var b=this;return b.dropdownText=a("<span/>",{id:(b.originalElem.id||"")&&b.originalElem.id+"SelectBoxItText","class":"selectboxit-text",unselectable:"on",text:b.firstSelectItem.text()}).attr("data-val",b.originalElem.value),b.dropdownImage=a("<i/>",{id:(b.originalElem.id||"")&&b.originalElem.id+"SelectBoxItDefaultIcon","class":"selectboxit-default-icon",unselectable:"on"}),b.dropdown=a("<span/>",{id:(b.originalElem.id||"")&&b.originalElem.id+"SelectBoxIt","class":"selectboxit "+(b.selectBox.attr("class")||""),name:b.originalElem.name,tabindex:b.selectBox.attr("tabindex")||"0",unselectable:"on"}).append(b.dropdownImage).append(b.dropdownText),b.dropdownContainer=a("<span/>",{id:(b.originalElem.id||"")&&b.originalElem.id+"SelectBoxItContainer","class":"selectboxit-container"}).append(b.dropdown),b},_createUnorderedList:function(){var b,c,d,e,f,g,h,i=this,j="",k=a("<ul/>",{id:(i.originalElem.id||"")&&i.originalElem.id+"SelectBoxItOptions","class":"selectboxit-options",tabindex:-1});return i.options.showFirstOption||(i.selectItems=i.selectBox.find("option").slice(1)),i.selectItems.each(function(k){c="",d="",b=a(this).prop("disabled"),e=a(this).data("icon")||"",f=a(this).data("iconurl")||"",g=f?"selectboxit-option-icon-url":"",h=f?"style=\"background-image:url('"+f+"');\"":"",a(this).parent().is("optgroup")&&(c="selectboxit-optgroup-option",0===a(this).index()&&(d='<span class="selectboxit-optgroup-header" data-disabled="true">'+a(this).parent().first().attr("label")+"</span>")),j+=d+'<li id="'+k+'" data-val="'+i.htmlEscape(this.value)+'" data-disabled="'+b+'" class="'+c+" selectboxit-option "+(a(this).attr("class")||"")+'"><a class="selectboxit-option-anchor"><i class="selectboxit-option-icon '+e+" "+g+'"'+h+"></i>"+i.htmlEscape(a(this).text())+"</a></li>",i.textArray[k]=a(this).text(),this.selected&&(i.dropdownText.text(a(this).text()),i.currentFocus=k)}),i.options.defaultText&&i.dropdownText.text(i.options.defaultText),i.selectBox.data("text")&&(i.dropdownText.text(i.selectBox.data("text")),i.options.defaultText=i.selectBox.data("text")),k.append(j),i.list=k,i.dropdownContainer.append(i.list),i.listItems=i.list.find("li"),i.listItems.first().addClass("selectboxit-option-first"),i.listItems.last().addClass("selectboxit-option-last"),i.list.find("li[data-disabled='true']").not(".optgroupHeader").addClass(i.disabledClasses),0===i.currentFocus&&!i.options.showFirstOption&&i.listItems.eq(0).hasClass(i.disabledClasses)&&(i.currentFocus=+i.listItems.not(".ui-state-disabled").first().attr("id")),i.dropdownImage.addClass(i.selectBox.data("icon")||i.options.defaultIcon||i.listItems.eq(i.currentFocus).find("i").attr("class")),i.dropdownImage.attr("style",i.listItems.eq(i.currentFocus).find("i").attr("style")),i},_replaceSelectBox:function(){var b=this;b.selectBox.css("display","none").after(b.dropdownContainer);var c=b.dropdown.height();return b.downArrow=a("<i/>",{id:(b.originalElem.id||"")&&b.originalElem.id+"SelectBoxItArrow","class":"selectboxit-arrow",unselectable:"on"}),b.downArrowContainer=a("<span/>",{id:(b.originalElem.id||"")&&b.originalElem.id+"SelectBoxItArrowContainer","class":"selectboxit-arrow-container",unselectable:"on"}).append(b.downArrow),b.dropdown.append(this.options.nostyle?b.downArrow:b.downArrowContainer),b.options.nostyle||(b.downArrowContainer.css({height:c+"px"}),b.dropdownText.css({"line-height":b.dropdown.css("height"),"max-width":b.dropdown.outerWidth()-(b.downArrowContainer.outerWidth()+b.dropdownImage.outerWidth())}),b.dropdownImage.css({"margin-top":c/4}),b.listItems.removeClass("selectboxit-selected").eq(b.currentFocus).addClass("selectboxit-selected")),b},_scrollToView:function(a){var b=this,c=b.list.scrollTop(),d=b.listItems.eq(b.currentFocus).height(),e=b.listItems.eq(b.currentFocus).position().top,f=b.list.height();return"search"===a?d>f-e?b.list.scrollTop(c+(e-(f-d))):-1>e&&b.list.scrollTop(e-d):"up"===a?-1>e&&b.list.scrollTop(c-Math.abs(b.listItems.eq(b.currentFocus).position().top)):"down"===a&&d>f-e&&b.list.scrollTop(c+(Math.abs(b.listItems.eq(b.currentFocus).position().top)-f+d)),b},_callbackSupport:function(b){var c=this;return a.isFunction(b)&&b.call(c,c.dropdown),c},open:function(a){var b=this;if(b._dynamicPositioning&&b._dynamicPositioning(),!this.list.is(":visible"))switch(b.triggerEvent("open"),b.options.showEffect){case"none":b.list.show(),b._scrollToView("search");break;case"show":b.list.show(b.options.showEffectSpeed,function(){b._scrollToView("search")});break;case"slideDown":b.list.slideDown(b.options.showEffectSpeed,function(){b._scrollToView("search")});break;case"fadeIn":b.list.fadeIn(b.options.showEffectSpeed),b._scrollToView("search");break;default:b.list.show(b.options.showEffect,b.options.showEffectOptions,b.options.showEffectSpeed,function(){b._scrollToView("search")})}return b._callbackSupport(a),b},close:function(a){var b=this;if(b.list.is(":visible"))switch(b.triggerEvent("close"),b.options.hideEffect){case"none":b.list.hide(),b._scrollToView("search");break;case"hide":b.list.hide(b.options.hideEffectSpeed);break;case"slideUp":b.list.slideUp(b.options.hideEffectSpeed);break;case"fadeOut":b.list.fadeOut(b.options.hideEffectSpeed);break;default:b.list.hide(b.options.hideEffect,b.options.hideEffectOptions,b.options.hideEffectSpeed,function(){b._scrollToView("search")})}return b._callbackSupport(a),b},_eventHandlers:function(){var b=this,c=38,d=40,e=13,f=8,g=9,h=32,i=27;return this.dropdown.bind({"click.selectBoxIt":function(){b.dropdown.trigger("focus",!0),b.originalElem.disabled||(b.triggerEvent("click"),b.list.is(":visible")?b.close():b.open())},"mousedown.selectBoxIt":function(){a(this).data("mdown",!0),b.triggerEvent("mousedown")},"mouseup.selectBoxIt":function(){b.triggerEvent("mouseup")},"blur.selectBoxIt":function(){b.blur&&(b.triggerEvent("blur"),b.list.is(":visible")&&b.close())},"focus.selectBoxIt":function(c,d){var e=a(this).data("mdown");a(this).removeData("mdown"),e||d||setTimeout(function(){b.triggerEvent("tab-focus")},0),b.list.is(":visible")||d||b.triggerEvent("focus")},"keydown.selectBoxIt":function(a){var h=a.keyCode;switch(h){case d:a.preventDefault(),b.moveDown&&(b.options.keydownOpen?b.list.is(":visible")?b.moveDown():b.open():b.moveDown()),b.options.keydownOpen&&b.open();break;case c:a.preventDefault(),b.moveUp&&(b.options.keydownOpen?b.list.is(":visible")?b.moveUp():b.open():b.moveUp()),b.options.keydownOpen&&b.open();break;case e:var j=b.list.find("li."+b.focusClass);j.length||(j=b.listItems.first()),b._update(j),a.preventDefault(),b.list.is(":visible")&&b.close(),b.triggerEvent("enter");break;case g:b.triggerEvent("tab-blur");break;case f:a.preventDefault(),b.triggerEvent("backspace");break;case i:b.close()}},"keypress.selectBoxIt":function(a){var c=a.charCode||a.keyCode,d=String.fromCharCode(c);c===h&&a.preventDefault(),b.search&&b.search(d,!0,"")},"mouseenter.selectBoxIt":function(){b.triggerEvent("mouseenter")},"mouseleave.selectBoxIt":function(){b.triggerEvent("mouseleave")}}),b.list.bind({"mouseover.selectBoxIt":function(){b.blur=!1},"mouseout.selectBoxIt":function(){b.blur=!0},"focusin.selectBoxIt":function(){b.dropdown.focus()}}).delegate("li","click.selectBoxIt",function(){b._update(a(this)),b.triggerEvent("option-click"),"false"===a(this).attr("data-disabled")&&b.close()}).delegate("li","focus.selectBoxIt",function(){b.listItems.not(a(this)).removeAttr("data-active"),a(this).attr("data-active",""),b.options.aggressiveChange&&b._update(a(this))}),b.selectBox.bind({"change.selectBoxIt, internal-change.selectBoxIt":function(a,c){if(!c){var d=b.list.find('li[data-val="'+b.originalElem.value+'"]');d.length&&(b.listItems.eq(b.currentFocus).removeClass(b.focusClass),b.currentFocus=+d.attr("id"))}b.dropdownText.text(b.listItems.eq(b.currentFocus).find("a").text()).attr("data-val",b.originalElem.value),b.listItems.eq(b.currentFocus).find("i").attr("class")&&(b.dropdownImage.attr("class",b.listItems.eq(b.currentFocus).find("i").attr("class")).addClass("selectboxit-default-icon"),b.dropdownImage.attr("style",b.listItems.eq(b.currentFocus).find("i").attr("style"))),b.triggerEvent("changed")},"disable.selectBoxIt":function(){b.dropdown.addClass(b.disabledClasses)},"enable.selectBoxIt":function(){b.dropdown.removeClass(b.disabledClasses)}}),b},_update:function(a){var b=this;"false"===a.attr("data-disabled")&&(b.options.defaultText&&b.dropdownText.text()===b.options.defaultText?b.dropdownText.text(b.listItems.eq(b.currentFocus).text()).trigger("internal-change"):(b.selectBox.val(a.attr("data-val")),b.currentFocus=+a.attr("id"),b.originalElem.value!==b.dropdownText.attr("data-val")&&b.triggerEvent("change")))},_addClasses:function(b){var c=this,d=b.focusClasses||"selectboxit-focus",e=b.buttonClasses||"selectboxit-btn",f=b.listClasses||"selectboxit-dropdown";return c.focusClass=d,c.selectedClass="selectboxit-selected",c.downArrow.addClass(c.selectBox.data("downarrow")||c.options.downArrowIcon||b.arrowClasses),c.dropdownContainer.addClass(b.containerClasses),c.dropdown.addClass(e),c.list.addClass(f),c.listItems.bind({"focus.selectBoxIt":function(){a(this).addClass(d)},"blur.selectBoxIt":function(){a(this).removeClass(d)}}),c.selectBox.bind({"open.selectBoxIt":function(){var a=c.list.find("li[data-val='"+c.dropdownText.attr("data-val")+"']");a.length||(a=c.listItems.first()),c.currentFocus=+a.attr("id");var b=c.listItems.eq(c.currentFocus);c.dropdown.removeClass(d),c.listItems.removeClass(c.selectedClass),c.listItems.removeAttr("data-active").not(b).removeClass(d),b.addClass(d).addClass(c.selectedClass)},"blur.selectBoxIt":function(){c.dropdown.removeClass(d)},"mouseenter.selectBoxIt":function(){"bootstrap"!==c.options.theme&&c.dropdown.addClass(d)},"mouseleave.selectBoxIt":function(){c.dropdown.removeClass(d)}}),c.listItems.bind({"mouseenter.selectBoxIt":function(){"false"===a(this).attr("data-disabled")&&(c.listItems.removeAttr("data-active"),a(this).addClass(d).attr("data-active",""),c.listItems.not(a(this)).removeClass(d),a(this).addClass(d),c.currentFocus=+a(this).attr("id"))},"mouseleave.selectBoxIt":function(){"false"===a(this).attr("data-disabled")&&c.listItems.not(a(this)).removeClass(d).removeAttr("data-active")}}),a(".selectboxit-option-icon").not(".selectboxit-default-icon").css("margin-top",c.downArrowContainer.height()/4),c},_jqueryui:function(){var a=this;return a._addClasses({focusClasses:"ui-state-focus",arrowClasses:"ui-icon ui-icon-triangle-1-s",buttonClasses:"ui-widget ui-state-default",listClasses:"ui-widget ui-widget-content",containerClasses:"jqueryui"}),a},_twitterbootstrap:function(){var a=this;return a._addClasses({focusClasses:"active",arrowClasses:"caret",buttonClasses:"btn",listClasses:"dropdown-menu",containerClasses:"bootstrap"}),a},_jquerymobile:function(){var a=this,b=a.selectBox.attr("data-theme")||"c";return a._addClasses({focusClasses:"ui-btn-down-"+b,arrowClasses:"ui-icon ui-icon-arrow-d ui-icon-shadow",buttonClasses:"ui-btn ui-btn-icon-right ui-btn-corner-all ui-shadow ui-btn-up-"+b,listClasses:"ui-btn ui-btn-icon-right ui-btn-corner-all ui-shadow ui-btn-up-"+b,containerClasses:"jquerymobile"}),a},destroy:function(b){var c=this;return c._destroySelectBoxIt(),a.Widget.prototype.destroy.call(c),c._callbackSupport(b),c},_destroySelectBoxIt:function(){var a=this;return a.dropdown.unbind(".selectBoxIt").undelegate(".selectBoxIt"),a.dropdownContainer.remove(),a.triggerEvent("destroy"),a.selectBox.removeAttr("style").show(),a},refresh:function(a){var b=this;return b._destroySelectBoxIt()._create(!0)._callbackSupport(a),b.triggerEvent("refresh"),b},_applyNativeSelect:function(){var a,b=this;b.dropdownContainer.css({position:"static"}),b.selectBox.css({display:"block",width:b.dropdown.outerWidth(),height:b.dropdown.outerHeight(),opacity:"0",position:"absolute",top:b.dropdown.offset().top,bottom:b.dropdown.offset().bottom,left:b.dropdown.offset().left,right:b.dropdown.offset().right,cursor:"pointer","z-index":"999999"}).bind({"changed.selectBoxIt":function(){a=b.selectBox.find("option").filter(":selected"),b.dropdownText.text(a.text()),b.list.find('li[data-val="'+a.val()+'"]').find("i").attr("class")&&b.dropdownImage.attr("class",b.list.find('li[data-val="'+a.val()+'"]').find("i").attr("class")).addClass("selectboxit-default-icon")}})},_mobile:function(){var a=this;return this.options.isMobile()&&(b.console.log("is mobile"),a._applyNativeSelect()),this},htmlEscape:function(a){return String(a).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},triggerEvent:function(a){var b=this,c=b.options.showFirstOption?b.currentFocus:b.currentFocus-1>=0?b.currentFocus:0;return b.selectBox.trigger(a,{elem:b.selectBox.eq(c),"dropdown-elem":b.listItems.eq(b.currentFocus)}),b},_addSelectBoxAttributes:function(){var b,c=this,d=Array.prototype.slice.call(c.selectBox.prop("attributes"));return c._addAttributes(d,c.dropdown),c.selectItems.each(function(d){b=Array.prototype.slice.call(a(this).prop("attributes")),c._addAttributes(b,c.listItems.eq(d))}),c},_addAttributes:function(b,c){var d=this;return b.length&&a.each(b,function(a,b){var d=b.name.toLowerCase(),e=b.value;"id"!==d&&"class"!==d&&"unselectable"!==d&&c.attr(d,e)}),d}})}),function(a){"use strict";a(window.jQuery,window,document)}(function(a){"use strict";a.selectBox.selectBoxIt.prototype._ariaAccessibility=function(){var b=this;return b.dropdown.attr({role:"combobox","aria-autocomplete":"list","aria-expanded":"false","aria-owns":b.list.attr("id"),"aria-activedescendant":b.listItems.eq(b.currentFocus).attr("id"),"aria-label":a("label[for='"+b.originalElem.id+"']").text()||"","aria-live":"assertive"}).bind({"disable.selectBoxIt":function(){b.dropdown.attr("aria-disabled","true")},"enable.selectBoxIt":function(){b.dropdown.attr("aria-disabled","false")}}),b.list.attr({role:"listbox","aria-hidden":"true"}),b.listItems.attr({role:"option"}),b.selectBox.bind({"change.selectBoxIt":function(){b.dropdownText.attr("aria-label",b.originalElem.value)},"open.selectBoxIt":function(){b.list.attr("aria-hidden","false"),b.dropdown.attr("aria-expanded","true")},"close.selectBoxIt":function(){b.list.attr("aria-hidden","true"),b.dropdown.attr("aria-expanded","false")}}),b}}),function(a){"use strict";a(window.jQuery,window,document)}(function(a){"use strict";a.selectBox.selectBoxIt.prototype.disable=function(b){var c=this;return c.options.disabled||(c.close(),c.triggerEvent("disable"),c.selectBox.attr("disabled","disabled"),c.dropdown.removeAttr("tabindex").addClass("selectboxit-disabled"),a.Widget.prototype.disable.call(c)),c._callbackSupport(b),c},a.selectBox.selectBoxIt.prototype.disableOption=function(a,b){var c,d,e,f=this;return"number"==typeof a&&(f.close(),c=f.selectBox.find("option").eq(a),f.triggerEvent("disable-option"),c.attr("disabled","disabled"),f.listItems.eq(a).attr("data-disabled","true").addClass(f.disabledClasses),f.currentFocus===a&&(d=f.listItems.eq(f.currentFocus).nextAll("li").not("[data-disabled='true']").first().length,e=f.listItems.eq(f.currentFocus).prevAll("li").not("[data-disabled='true']").first().length,d?f.moveDown():e?f.moveUp():f.disable())),f._callbackSupport(b),f},a.selectBox.selectBoxIt.prototype._isDisabled=function(){var a=this;return a.originalElem.disabled&&a.disable(),a}}),function(a){"use strict";a(window.jQuery,window,document)}(function(a,b){"use strict";a.selectBox.selectBoxIt.prototype._dynamicPositioning=function(){var c=this,d=c.dropdown.offset().top,e=c.list.data("max-height")||c.list.outerHeight(),f=c.dropdown.outerHeight(),g=a(b).height(),h=a(b).scrollTop(),i=g+h>=d+f+e,j=!i;if(c.list.data("max-height")||c.list.data("max-height",c.list.outerHeight()),c.selectBox.css("display","none"),j)if(c.dropdown.offset().top-h>=e)c.list.css("max-height",c.list.data("max-height")),c.list.css("top",c.dropdown.position().top-c.list.outerHeight());
else{var k=Math.abs(d+f+e-(g+h)),l=Math.abs(c.dropdown.offset().top-h-e);l>k?(c.list.css("max-height",c.list.data("max-height")-k-f/2),c.list.css("top","auto")):(c.list.css("max-height",c.list.data("max-height")-l-f/2),c.list.css("top",c.dropdown.position().top-c.list.outerHeight()))}else c.list.css("max-height",c.list.data("max-height")),c.list.css("top","auto");return c}}),function(a){"use strict";a(window.jQuery,window,document)}(function(a){"use strict";a.selectBox.selectBoxIt.prototype.enable=function(b){var c=this;return c.options.disabled&&(c.triggerEvent("enable"),c.selectBox.removeAttr("disabled"),c.dropdown.attr("tabindex",0).removeClass(c.disabledClasses),a.Widget.prototype.enable.call(c),c._callbackSupport(b)),c},a.selectBox.selectBoxIt.prototype.enableOption=function(a,b){var c,d=this;return"number"==typeof a&&(c=d.selectBox.find("option").eq(a),d.triggerEvent("enable-option"),c.removeAttr("disabled"),d.listItems.eq(a).attr("data-disabled","false").removeClass(d.disabledClasses)),d._callbackSupport(b),d}}),function(a){"use strict";a(window.jQuery,window,document)}(function(a){"use strict";a.selectBox.selectBoxIt.prototype.moveDown=function(a){var b=this;b.currentFocus+=1;var c="true"===b.listItems.eq(b.currentFocus).attr("data-disabled")?!0:!1,d=b.listItems.eq(b.currentFocus).nextAll("li").not("[data-disabled='true']").first().length;if(b.currentFocus===b.listItems.length)b.currentFocus-=1;else{if(c&&d)return b.listItems.eq(b.currentFocus-1).blur(),b.moveDown(),void 0;c&&!d?b.currentFocus-=1:(b.listItems.eq(b.currentFocus-1).blur().end().eq(b.currentFocus).focus(),b._scrollToView("down"),b.triggerEvent("moveDown"))}return b._callbackSupport(a),b},a.selectBox.selectBoxIt.prototype.moveUp=function(a){var b=this;b.currentFocus-=1;var c="true"===b.listItems.eq(b.currentFocus).attr("data-disabled")?!0:!1,d=b.listItems.eq(b.currentFocus).prevAll("li").not("[data-disabled='true']").first().length;if(-1===b.currentFocus)b.currentFocus+=1;else{if(c&&d)return b.listItems.eq(b.currentFocus+1).blur(),b.moveUp(),void 0;c&&!d?b.currentFocus+=1:(b.listItems.eq(this.currentFocus+1).blur().end().eq(b.currentFocus).focus(),b._scrollToView("up"),b.triggerEvent("moveUp"))}return b._callbackSupport(a),b}}),function(a){"use strict";a(window.jQuery,window,document)}(function(a){"use strict";a.selectBox.selectBoxIt.prototype._setCurrentSearchOption=function(a){var b=this;return b.listItems.eq(a).is(":visible")&&b.listItems.eq(a).data("disabled")!==!0&&(b.listItems.eq(b.currentFocus).blur(),b.currentIndex=a,b.currentFocus=a,b.listItems.eq(b.currentFocus).focus(),b._scrollToView("search"),b.triggerEvent("search")),b},a.selectBox.selectBoxIt.prototype._searchAlgorithm=function(a,b){var c,d,e,f=this,g=!1;for(c=a,e=f.textArray.length;e>c;c+=1){for(d=0;e>d;d+=1)-1!==f.textArray[d].search(b)&&(g=!0,d=e);if(g||(f.currentText=f.currentText.charAt(f.currentText.length-1).replace(/[|()\[{.+*?$\\]/g,"\\$0"),b=new RegExp(f.currentText,"gi")),f.currentText.length<3){if(b=new RegExp(f.currentText.charAt(0),"gi"),-1!==f.textArray[c].charAt(0).search(b))return f._setCurrentSearchOption(c),f.currentIndex+=1,!1}else if(-1!==f.textArray[c].search(b))return f._setCurrentSearchOption(c),!1;if(f.textArray[c].toLowerCase()===f.currentText.toLowerCase())return f._setCurrentSearchOption(c),f.currentText="",!1}return!0},a.selectBox.selectBoxIt.prototype.search=function(a,b,c){var d=this;b?d.currentText+=a.replace(/[|()\[{.+*?$\\]/g,"\\$0"):d.currentText=a.replace(/[|()\[{.+*?$\\]/g,"\\$0");var e=new RegExp(d.currentText,"gi"),f=d._searchAlgorithm(d.currentIndex,e);return f&&d._searchAlgorithm(0,e),d._callbackSupport(c),d}}),function(a){"use strict";a(window.jQuery,window,document)}(function(a){"use strict";a.selectBox.selectBoxIt.prototype.selectOption=function(a,b){var c=this;return"number"==typeof a?c.selectBox.val(c.selectBox.find("option").eq(a).val()).change():"string"==typeof a&&c.selectBox.val(a).change(),c._callbackSupport(b),c}}),function(a){"use strict";a(window.jQuery,window,document)}(function(a){"use strict";a.selectBox.selectBoxIt.prototype.setOption=function(b,c,d){var e=this;return"showFirstOption"!==b||c?"showFirstOption"===b&&c?e.listItems.eq(0).show():"defaultIcon"===b&&c?e.dropdownImage.attr("class",c+" selectboxit-arrow"):"downArrowIcon"===b&&c?e.downArrow.attr("class",c+" selectboxit-arrow"):"defaultText"===b&&e.dropdownText.text(c):e.listItems.eq(0).hide(),a.Widget.prototype._setOption.apply(e,arguments),e._callbackSupport(d),e}}),function(a){"use strict";a(window.jQuery,window,document)}(function(a){"use strict";a.selectBox.selectBoxIt.prototype.setOptions=function(b,c){var d=this;return a.Widget.prototype._setOptions.apply(d,arguments),d.options.showFirstOption?d.listItems.eq(0).show():d.listItems.eq(0).hide(),d.options.defaultIcon&&d.dropdownImage.attr("class",d.options.defaultIcon+" selectboxit-arrow"),d.options.downArrowIcon&&d.downArrow.attr("class",d.options.downArrowIcon+" selectboxit-arrow"),d.options.defaultText&&d.dropdownText.text(d.options.defaultText),d._callbackSupport(c),d}}),function(a){"use strict";a(window.jQuery,window,document)}(function(a){"use strict";a.selectBox.selectBoxIt.prototype.wait=function(a,b){var c=this,d=this.returnTimeout(a);return d.then(function(){c._callbackSupport(b)}),c},a.selectBox.selectBoxIt.prototype.returnTimeout=function(b){return a.Deferred(function(a){setTimeout(a.resolve,b)})}}),function(a,b,c){function d(a){return a}function e(a){return f(decodeURIComponent(a.replace(h," ")))}function f(a){return 0===a.indexOf('"')&&(a=a.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")),a}function g(a){return i.json?JSON.parse(a):a}var h=/\+/g,i=a.cookie=function(f,h,j){if(h!==c){if(j=a.extend({},i.defaults,j),null===h&&(j.expires=-1),"number"==typeof j.expires){var k=j.expires,l=j.expires=new Date;l.setDate(l.getDate()+k)}return h=i.json?JSON.stringify(h):String(h),b.cookie=[encodeURIComponent(f),"=",i.raw?h:encodeURIComponent(h),j.expires?"; expires="+j.expires.toUTCString():"",j.path?"; path="+j.path:"",j.domain?"; domain="+j.domain:"",j.secure?"; secure":""].join("")}for(var m=i.raw?d:e,n=b.cookie.split("; "),o=f?null:{},p=0,q=n.length;q>p;p++){var r=n[p].split("="),s=m(r.shift()),t=m(r.join("="));if(f&&f===s){o=g(t);break}f||(o[s]=g(t))}return o};i.defaults={},a.removeCookie=function(b,c){return null!==a.cookie(b)?(a.cookie(b,null,c),!0):!1}}(jQuery,document),function(a){a.fn.numeric=function(b,c){"boolean"==typeof b&&(b={decimal:b}),b=b||{},"undefined"==typeof b.negative&&(b.negative=!0),"undefined"==typeof b.max&&(b.max=!1);var d=b.decimal===!1?"":b.decimal||".",e=b.negative===!0?!0:!1,f=b.max===!1?!1:b.max;return c="function"==typeof c?c:function(){},this.data("numeric.decimal",d).data("numeric.negative",e).data("numeric.max",f).data("numeric.callback",c).keypress(a.fn.numeric.keypress).keyup(a.fn.numeric.keyup).blur(a.fn.numeric.blur)},a.fn.numeric.keypress=function(b){var c=a.data(this,"numeric.decimal"),d=a.data(this,"numeric.negative"),e=b.charCode?b.charCode:b.keyCode?b.keyCode:0;if(13==e&&"input"==this.nodeName.toLowerCase())return!0;if(13==e)return!1;var f=!1;if(b.ctrlKey&&97==e||b.ctrlKey&&65==e)return!0;if(b.ctrlKey&&120==e||b.ctrlKey&&88==e)return!0;if(b.ctrlKey&&99==e||b.ctrlKey&&67==e)return!0;if(b.ctrlKey&&122==e||b.ctrlKey&&90==e)return!0;if(b.ctrlKey&&118==e||b.ctrlKey&&86==e||b.shiftKey&&45==e)return!0;if(48>e||e>57){var g=a(this).val();if(0!==g.indexOf("-")&&d&&45==e&&(0===g.length||0===parseInt(a.fn.getSelectionStart(this),10)))return!0;c&&e==c.charCodeAt(0)&&-1!=g.indexOf(c)&&(f=!1),8!=e&&9!=e&&13!=e&&35!=e&&36!=e&&37!=e&&39!=e&&46!=e?f=!1:"undefined"!=typeof b.charCode&&(b.keyCode==b.which&&0!==b.which?(f=!0,46==b.which&&(f=!1)):0!==b.keyCode&&0===b.charCode&&0===b.which&&(f=!0)),c&&e==c.charCodeAt(0)&&(f=-1==g.indexOf(c)?!0:!1)}else f=!0;return f&&(f=a.fn.checkMaxValue(this)),f},a.fn.numeric.keyup=function(){var b=this.value;if(b&&b.length>0){var c=a.fn.getSelectionStart(this),d=a.data(this,"numeric.decimal"),e=a.data(this,"numeric.negative");if(""!==d&&null!==d){var f=b.indexOf(d);0===f&&(this.value="0"+b),1==f&&"-"==b.charAt(0)&&(this.value="-0"+b.substring(1)),b=this.value}for(var g=[0,1,2,3,4,5,6,7,8,9,"-",d],h=b.length,i=h-1;i>=0;i--){var j=b.charAt(i);0!==i&&"-"==j?b=b.substring(0,i)+b.substring(i+1):0!==i||e||"-"!=j||(b=b.substring(1));for(var k=!1,l=0;l<g.length;l++)if(j==g[l]){k=!0;break}k&&" "!=j||(b=b.substring(0,i)+b.substring(i+1))}var m=b.indexOf(d);if(m>0)for(var n=h-1;n>m;n--){var o=b.charAt(n);o==d&&(b=b.substring(0,n)+b.substring(n+1))}this.value=b,a.fn.checkMaxValue(this),a.fn.setSelection(this,c)}},a.fn.numeric.blur=function(){var b=a.data(this,"numeric.decimal"),c=a.data(this,"numeric.callback"),d=this.value;if(""!==d){var e=new RegExp("^\\d+$|^\\d*"+b+"\\d+$");e.exec(d)||c.apply(this)}},a.fn.removeNumeric=function(){return this.data("numeric.decimal",null).data("numeric.negative",null).data("numeric.callback",null).unbind("keypress",a.fn.numeric.keypress).unbind("blur",a.fn.numeric.blur)},a.fn.getSelectionStart=function(a){if(a.createTextRange){var b=document.selection.createRange().duplicate();return b.moveEnd("character",a.value.length),""===b.text?a.value.length:a.value.lastIndexOf(b.text)}return a.selectionStart},a.fn.setSelection=function(a,b){if("number"==typeof b&&(b=[b,b]),b&&b.constructor==Array&&2==b.length)if(a.createTextRange){var c=a.createTextRange();c.collapse(!0),c.moveStart("character",b[0]),c.moveEnd("character",b[1]),c.select()}else a.setSelectionRange&&(a.focus(),a.setSelectionRange(b[0],b[1]))},a.fn.checkMaxValue=function(b){var c=a.data(b,"numeric.max");"auto"==c&&(c=a(b).data("max"));var d=a(b).val();return c&&d>=c?(a(b).val(c),!1):!0}}(jQuery);var site={};site.app={},site.app.init=function(){jQuery(".city-choice").click(site.app.city.choice),jQuery("a[rel=popover]").popover({placement:"right"}),jQuery("i[rel=tooltip]").tooltip({placement:"right"}),jQuery(".level[rel=tooltip]").tooltip({placement:"top"}),jQuery(".btn-dec[rel=tooltip]").tooltip({placement:"top"}),jQuery("input.quantity").numeric({max:"auto"}).keyup(site.app.update.quantity),jQuery("input.control").click(site.app.update.control),jQuery("#payment_choose .thumbnail").click(function(){window.location="do/?payment-id="+$(this).attr("id")});var a=jQuery('.control-group:has([for="input-city"])'),b=jQuery('.control-group:has([for="input-city_extra"])');if(a.size()&&b.size()){var c=function(){838==a.find("select").val()?b.show():b.hide()};a.find("select").on("change",c),c()}$("#accepts-tos").on("change",function(){var a=$(this);a.attr("checked")?$("button.submit").attr("disabled",!1):$("button.submit").attr("disabled",!0)}),jQuery(".action_collapse").click(site.app.action.collapse)},site.app.action={},site.app.action.collapse=function(a){a.preventDefault();var b=$.extend({hideIcon:"icon-resize-full",hideText:"Hide",viewIcon:"icon-resize-small",viewText:"View"},jQuery(this).data()),c=jQuery(this).attr("href");"none"==$(c).css("display")?(jQuery(c).show("slow").css("display","block"),jQuery(this).html('<i class="'+b.viewIcon+'"></i>'+b.viewText)):(jQuery(c).hide("slow"),jQuery(this).html('<i class="'+b.hideIcon+'"></i>'+b.hideText))},site.app.update={},site.app.update.price=function(a,b){var c=jQuery("#product-"+a),d=0,e=0,f=0;f=b.sum*b.duration,e=b.discount.duration+b.discount.place,d=f-e,c.data(b),jQuery(".price-"+a).html(d),jQuery(".price-"+a+"-original").html(f),jQuery(".price-"+a+"-discount").html("- "+e)},site.app.update.quantity=function(){var a=jQuery("input[type=checkbox].control",this.parentNode.parentNode),b=a.data(),c=jQuery(this).val(),d=a.attr("rel"),e=jQuery("#product-"+d).data();""===c&&(c=0),0===c?a.attr("checked",!1):a.attr("checked",!0),c=parseInt(c),jQuery(this).val(c),jQuery("input[rel=component-"+b.id+"]").val(c),e.sum=e.sum-b.sum,b.sum=Math.round(b.price*c),b.quantity=c,a.val(c),a.data("quantity",c),a.data("sum",b.sum),e.sum="checked"==a.attr("checked")?e.sum+b.sum:e.sum-b.sum,site.app.update.price(d,e)},site.app.update.control=function(){var a=jQuery(this),b=a.data(),c=a.attr("rel");jQuery("#product-"+c);var d=jQuery("#product-"+c).data();jQuery(this).is("input[name=lenght]")?(site.app.setnote(c),jQuery("input[rel="+c+"][type=checkbox].control").each(function(){var a,c=jQuery("input.quantity",this.parentNode.parentNode);if(a=jQuery(this).data("quantity")/d.duration*b.quantity,"editable"==jQuery(this).data("type")){var e=c.data("max")*b.quantity;c.numeric({max:e}),c.val(a),jQuery(this).data("quantity",a),jQuery(this).val(a)}else"unlimited"!=jQuery(this).data("type")?(c.val(a),jQuery(this).data("quantity",a)):jQuery(this).data("quantity",a);jQuery(this).data("quantity",a),jQuery("input[rel=component-"+b.id+"]").val(a)}),d.duration=b.quantity,d.discount.duration=b.price):jQuery(this).is("input[name=place]")?(site.app.setnote(c),d.discount.place=b.price):jQuery(this).is("input[type=checkbox]")&&("checked"==a.attr("checked")?(d.sum=d.sum+b.sum,jQuery("input[rel=component-"+b.id+"]").val(b.quantity)):(d.sum=d.sum-b.sum,jQuery("input[rel=component-"+b.id+"]").val(0))),site.app.update.price(c,d)},site.app.seterror=function(a,b){return jQuery("#price-"+a+">i.btn-icon").attr("class","btn-icon icon-remove icon-school"),jQuery(".info-"+a).hide(),jQuery(".error-"+a+">p.message-content").html(b),jQuery(".error-"+a).show(),!1},site.app.setnote=function(a){jQuery("#price-"+a+">i.btn-icon").attr("class","btn-icon icon-shopping-cart"),jQuery(".error-"+a).hide(),jQuery(".info-"+a).show()},site.app.update.geocontent=function(){},site.app.city={},site.app.city.choice=function(){var a=jQuery(this).attr("rel"),b=jQuery(".city-choice-current"),c=b.attr("rel"),d=b.html(),e=jQuery(".city-choice[rel="+a+"]"),f=jQuery(".city-choice[rel="+a+"]").html(),g=jQuery("#geocontent").attr("rel");if("undefined"!==a){var h=jQuery.getJSON("/udata/data/setCityId/"+a+".json");h.error(function(){console.error("set_city","Error. Try again later")}),h.success(function(){e.html(d),e.attr(c),b.attr("rel",a),b.html(f),"undefined"!==g&&location.reload()})}},jQuery(document).ready(function(){site.app.init()}),$(function(){$("select").selectBoxIt({downArrowIcon:"icon-"}).data("selectBoxIt")}),basket={get:function(a){basket.__request("/udata/emarket/currentBasketOrder.json",{},a)},putElement:function(a,b,c){basket.__request("/udata/emarket/currentBasketOrder/put/element/"+a+".json",b,c)},modifyItem:function(a,b,c){return 0==b.amount?(this.removeItem(a,c),void 0):(basket.__request("/udata/emarket/currentBasketOrder/put/item/"+a+".json",b,c),void 0)},removeElement:function(a,b){basket.__request("/udata/emarket/currentBasketOrder/remove/element/"+a+".json",{},b)},removeItem:function(a,b){basket.__request("/udata/emarket/currentBasketOrder/remove/item/"+a+".json",{},b)},removeAll:function(a){basket.__request("/udata/emarket/currentBasketOrder/remove_all.json",{},a)},__cleanupHash:function(a){var b={customer:a.customer.object.id,items:a.items,summary:a.summary,id:a.id};return b},__transformOptions:function(a){return a},__request:function(a,b,c){jQuery.ajax({url:a,type:"POST",dataType:"json",data:basket.__transformOptions(b),success:function(a){c&&c(basket.__cleanupHash(a))}})}},site.basket={},site.basket.replace=function(a){return function(b){var c,d,e,f,g,h,i,j,k,l,m=jQuery(".cart_summary"),n=jQuery(".cart_discount"),e=jQuery(".cart_goods_discount"),o="Добавить в корзину",p=!0,q={};if(b.summary.amount>0){c=b.summary.price.actual+" "+b.summary.price.suffix,f=("undefined"==typeof b.summary.price.original?b.summary.price.actual:b.summary.price.original)+" "+b.summary.price.suffix,d=("undefined"!=typeof b.summary.price.discount?b.summary.price.discount:"0")+" "+b.summary.price.suffix;for(k in b.items.item)l=b.items.item[k],l.id==a&&(p=!1,g=l["total-price"].actual+" "+l["total-price"].suffix,h=("undefined"!=typeof l.discount?l.discount.amount:"0")+" "+l["total-price"].suffix),l.page.id==a&&(q.amount?q.amount=q.amount+l.amount:q={id:a,amount:l.amount});if(q.amount){var r=jQuery("#add_basket_"+q.id);"A"==r[0].tagName.toUpperCase()?r.text(o+" ("+q.amount+")"):r.val(o+" ("+q.amount+")")}p?(i=jQuery(".cartItem-"+a))&&(i.remove(),m.text(c),n.text(d),e.text(f)):(jQuery(".cart_item_price_"+a).text(g),jQuery(".cart_item_discount_"+a).text(h),m.text(c),n.text(d),e.text(f)),c=b.summary.amount+" шт товаров на сумму "+c}else c="0",(j=jQuery(".basket"))&&j.text(c),jQuery(".main #cart").replaceWith(jQuery('<div class="basket">В корзине нет ни одного товара</div>'));jQuery(".basket_info_summary").text(c)}},site.basket.add=function(a,b){var c=jQuery(b).serializeObject();jQuery("#dialog").modal("show"),basket.putElement(a,c,function(b){jQuery("#dialog").css("width","425px"),jQuery("#dialog").render("modal",{"class":"basket",message:"<div style='padding: 16px 30px 0;'><div style='color: #51bcea; font-size: 25px; height: 85px;'><span class='badge big' style='float: left;'><i class='ico_basket'></i></span><div style='padding-top: 10px;'>Продукт помещен</div><div style='padding-top: 10px;'>в корзину!</div></div></div><p style='padding: 0 25px;'><a class='btn btn_green long' href=\"/emarket/cart/\">Перейти в корзину</a> <a class='btn btn_blue long' data-dismiss=\"modal\">Продожить покупки</a></p>"}),jQuery("#basketMini").render("basketMini",b),jQuery("#price-"+a+">i.btn-icon").removeClass("btn-icon icon-shopping-cart").addClass("icon-ok icon-school"),jQuery("#price-"+a).prop("disabled",!0).addClass("disabled"),jQuery(".info-"+a).removeClass("info-message").addClass("question-message"),jQuery(".info-"+a+">i").removeClass("message-icon-info").addClass("message-icon-question"),jQuery(".info-"+a+">p.message-content").html('Продукт помещен <a href="/emarket/cart/">в корзину</a>')})},site.basket.check=function(a){var b=jQuery("#product-"+a);return jQuery("input[name=place]",b).size()>0&&0===jQuery("input[name=place]:checked",b).length?site.app.seterror(a,"Выберите место и время занятий"):0===jQuery("input[name=lenght]:checked",b).length?site.app.seterror(a,"Выберите длительность курса"):(this.add(a,b),void 0)},site.basket.modify=function(a,b){basket.modifyItem(a,{amount:b},this.replace(a))},site.basket.remove=function(a){"all"==a?basket.removeAll(this.replace(a)):basket.removeItem(a,this.replace(a))},site.basket.init=function(){jQuery(".basketModifyOFF").click(function(a){a.preventDefault();var b=jQuery(this).data();site.basket.modify(b.itemId,b.amount)}),jQuery(".basketAdd").click(function(){var a=jQuery(this).data("itemId");return site.basket.check(a),!1}),jQuery(".basketRemove").click(function(){return site.basket.remove(this.id),!1}),jQuery(".basketRemoveAll").click(function(){return site.basket.remove("all"),!1})},jQuery(document).ready(function(){site.basket.init()}),site.forms={},site.forms.init=function(){var a,b,c=jQuery("div.required input, div.required textarea, div.required select");for(b=0;c.length>b;b++)a=c[b],a.onchange=site.forms.errors.show(a,b);site.forms.data.restore(),site.forms.comments.init(),-1!=location.href.indexOf("forget")&&jQuery("#forget input:radio").click(function(){jQuery("#forget input:text").attr("name",jQuery(this).attr("id"))})},site.forms.data={},site.forms.data.check=function(a,b){var c=b,d=jQuery("div.required input, div.required textarea, div.required select",a);++c;for(var e=0;d.length>e;e++){if("undefined"!=typeof b&&d[c]==d[e])return!1;if(!site.forms.errors.check(d[e],b))return!1}return!0},site.forms.data.check_new=function(a,b){var c=b,d=jQuery("div.required input, div.required textarea, div.required select",a);++c;for(var e=0;d.length>e;e++){if("undefined"!=typeof b&&d[c]==d[e])return!1;if(!site.forms.errors.check(d[e],b))return!1}return!0},site.forms.data.save=function(a){if(!a&&!a.id)return!1;var b,c,d,e,f="",g="";for(d=0;d<a.elements.length;d++)if(b=a.elements[d],b.name){switch(c=b.name.replace(/([)\\])/g,"\\$1"),b.type){case"password":break;case"text":case"textarea":f+="TX,"+c+","+b.value;break;case"checkbox":case"radio":f+="CH,"+b.id+","+(b.checked?1:0);break;case"select-one":f+="SO,"+c+","+b.selectedIndex;break;case"select-multiple":for(e=0;e<b.options.length;e++)b.options[e].selected&&(g+=b.options[e].value,e<b.options.length-1&&(g+=":"));f+="SM,"+c+","+g}d<a.elements.length-1&&(f+="+")}return jQuery.cookie("frm"+a.id,f.replace(/([|\\])/g,"\\$1")),!0},site.forms.data.restore=function(){var a,b,c,d,e=jQuery("form");for(a=0;a<e.length;a++)if(e[a].id&&(d=jQuery.cookie("frm"+e[a].id)))for(d=d.split("+"),b=0;b<d.length;b++)if(c=d[b].split(","))switch(c[0]){case"PW":break;case"TX":e[a].elements[c[1]].value=c[2];break;case"CH":$("#"+c[1]).attr("checked",1==c[2]?!0:!1);break;case"SO":e[a].elements[c[1]].selectedIndex=c[2];break;case"SM":var f,g,h=e[a].elements[c[1]].options,i=c[2].split(":");for(f=0;f<h.length;f++)for(g=0;g<i.length;g++)i[g]&&h[f].value==i[g]&&(h[f].selected=!0)}return!0},site.forms.comments={},site.forms.comments.init=function(){var a,b,c=jQuery("#comments");if("object"==typeof c[0])for(a=jQuery("a.comment_add_link",c[0]),b=0;a.length>b;b++)a[b].onclick=site.forms.comments.add(a[b])},site.forms.comments.add=function(a){return function(){site.forms.comments.setAction(a.id)}},site.forms.comments.setAction=function(a){var b;return(b=jQuery("#comment_add_form"))?(b[0].action="/blogs20/commentAdd/"+a,!0):!1},site.forms.vote=function(form,vote_id){for(var res=!1,i=0;form.elements.length>i;i++)form.elements[i].checked&&(res=form.elements[i].value);res?(jQuery.ajax({url:"/vote/post/"+res+"/?m="+(new Date).getTime(),dataType:"html",success:function(data){eval(data)}}),jQuery.ajax({url:"/udata://vote/results/"+vote_id+"/?transform=modules/vote/results.xsl&m="+(new Date).getTime(),dataType:"html",success:function(a){jQuery(form.parentNode).html(a)}})):alert("Не выбран ни один вариант")},site.forms.errors={},site.forms.errors.show=function(a,b){return function(){site.forms.data.check(a.form,b)}},site.forms.errors.check=function(a){var b,c="Поле обязательно для заполнения.";switch(a.name){case"login":0==a.value.length?b=c:a.value.match(/.+@.+\..+/)?site.forms.emailNotAvaible(a.value)&&(b="Такой e-mail уже зарегистрирован."):b="Некорректный e-mail.";break;case"password":switch(a.value.length){case 0:b=c;break;case 1:case 2:b="Слишком короткий пароль. Пароль должен состоять не менее, чем из 3х символов.";break;default:a.form.elements.login.value==a.value&&(b="Пароль не должен совпадать с e-mail.")}break;case"password_confirm":0==a.value.length?b=c:a.form.elements.password.value!==a.value&&(b="Пароли должны совпадать.");break;case"accepts_tos":a.checked||(b="Вы должны согласиться с условиями договора оферты.");break;case"email":0==a.value.length?b=c:a.value.match(/.+@.+\..+/)||(b="Некорректный e-mail.");break;default:0==a.value.length&&(b=c),a.name.match(/^.*e.*mail.*$/)&&"email_to"!=a.name&&"system_email_to"!=a.name&&(a.value.match(/.+@.+\..+/)||(b="Некорректный e-mail."))}return site.forms.errors.write(b,a)},site.forms.errors.write=function(a,b){var c=$(b.parentNode.parentNode);return jQuery(".help-inline",b.parentNode).html(""),a?(c.removeClass("success").addClass("error"),jQuery(".help-inline",b.parentNode).html(a),"password_confirm"==b.name&&(b.value=""),b.focus(),!1):(c.removeClass("error").addClass("success"),!0)},site.forms.cache={},site.forms.emailNotAvaible=function(a){var b=site.forms.cache;return void 0!==b[a]?b[a]:(jQuery.get("/users/json_email_available",{email:a,edit:0}).done(function(c){b[a]=!+c}),!1)},jQuery(document).ready(function(){site.forms.init()}),!function(a){"use strict";var b="[data-testing-action]",c='[role="process"]',d='[role="board"]',e='[role="alert"]',f='[role="dialog"]',g='[role="answer"]',h='[data-testing-action="dialog"]',i=function(c,d){this.stat={success:0,failure:0,answered:0,total:0},this.questions=[],this.timer_id=null,this.ajax_attempts=0,this.options=d,this.currentQuestionId=null,this.currentQuestionIndex=-1,this.$element=a(c).on("action",this,function(a,b,c){this[b](c)}).on("click.testing.data-api",b,this,function(b){b.preventDefault();var c=a(this).data("testingAction");c&&(b.$toggle=a(this),b.data[c]())})};i.prototype={constructor:i,load:function(){a(c).render("wait",{proc:100});var b=function(b){this.stat=b.stat,this.currentQuestionId=this.options.questionId?this.options.questionId:b.current_question_id,this.questions=b.items.item,a(c).render("process",b),"process"===b.status||this.options.questionId?this.start():"end"===b.status&&this.end()},d="/udata/testing/load/"+this.options.testId+".json";this.request(d,a.proxy(b,this))},getQuestion:function(a){for(var b in this.questions)if(a===this.questions[b].id)return this.currentQuestionIndex=b,this.questions[b]},getQuestionIndex:function(a){for(var b in this.questions)if(a===this.questions[b].id)return b-1;return this.currentQuestionIndex},check:function(){return this.stat.answered>=this.stat.total?this.end():!0},start:function(){if(!this.timer_id){a(d).render("wait",{proc:100});var b=function(b){this.questions=b.items.item,this.currentQuestionIndex=this.getQuestionIndex(this.currentQuestionId),this.timerStart(),this.nextQuestion(),a(h,this.$element).show()},c="/udata/testing/questions/"+this.options.testId+".json";this.request(c,a.proxy(b,this))}},nextQuestion:function(){if(this.check()){this.currentQuestionIndex=++this.currentQuestionIndex>this.stat.total-1?0:this.currentQuestionIndex;var b=this.questions[this.currentQuestionIndex];return"undefined"!=typeof b?"failure"===b.status||"success"===b.status?this.nextQuestion():(this.currentQuestionId=b.id,this.setQuestionStatus("active"),a(d).render("question",b)):this.alert(this.options.messages.error_server,!1,"Error")}},answering:function(b){a("<div>",{"class":"white"}).css({width:a(d).outerWidth()-2+"px",height:a(d).outerHeight()-2+"px"}).appendTo(a(d));var c=function(a){return a.status?(this.setQuestionStatus(a.status),this.nextQuestion(),void 0):this.end()},e="/udata/testing/answering/"+this.options.testId+".json",f={questionId:this.currentQuestionId,answer:b};this.request(e,f,a.proxy(c,this))},answer:function(){var b=a(g+":radio").size()?a(g+":radio:checked").val():a(g).val();return a(g+":radio").size()&&"undefined"==typeof b?this.alert(this.options.messages.error_radio):"undefined"==typeof b||""===b?this.alert(this.options.messages.error_string):(this.answering(b),void 0)},later:function(){this.setQuestionStatus("later"),this.nextQuestion()},skip:function(){this.answering("skip")},setQuestionStatus:function(b,c){"undefined"==typeof c&&(c=b,b=this.currentQuestionIndex),a(".bar .item:eq("+b+")",this.$element).removeClass("open active failure success later").addClass(c),("success"===c||"failure"===c)&&(this.questions[this.currentQuestionIndex].status=c,a(".count ."+c,this.$element).text(++this.stat[c]),a(".summary .answers",this.$element).text(++this.stat.answered))},dialog:function(){a(f,this.$element).modal("show")},dismiss:function(){a(f,this.$element).modal("hide"),this.end()},end:function(){a(d).render("wait",{proc:100}),this.timer_id&&this.timerStop(),a(".bar .item",this.$element).not(".success").removeClass("active later").addClass("failure"),a(".count .failure",this.$element).text(this.stat.failure+(this.stat.total-this.stat.answered)),a(".summary .answers",this.$element).text(this.stat.total),a(h,this.$element).hide();var b=function(b){a(d).render("end",{url:b.url})},c="/udata/testing/end/"+this.options.testId+".json";this.request(c,a.proxy(b,this))},timerStart:function(){var b=a(c+" .time",this.$element),d=1e3*parseInt(b.data("time")),e=function(){d-=1e3;var a=new Date(d),c={S:d,s:a.getSeconds()>9?a.getSeconds():"0"+a.getSeconds(),m:a.getMinutes()>9?a.getMinutes():"0"+a.getMinutes()};b.text(c.m+":"+c.s),b.data("time",c.S/1e3),c.S<=0&&this.end()};this.timer_id=setInterval(a.proxy(e,this),1e3)},timerStop:function(){clearInterval(this.timer_id),this.timer_id=null},alert:function(b,c,d){c="undefined"==typeof c||c?!0:c,a(e).render("alert",{close_toggle:c,message:b,code:d}).fadeIn("slow"),c&&a(e).delay(5e3).fadeOut("slow")},request:function(b,c,d){var e,f=this;a.isFunction(c)?(d=c,c=void 0):c&&"object"==typeof c&&(e="POST"),a.ajax({url:b,type:e,dataType:"json",data:c,beforeSend:function(){f.ajax_attempts++},error:function(){f.ajax_attempts<=f.options.ajaxAllowAttempts?f.request(b,c,d):f.alert(this.options.messages.error_server,!1,"Error")},success:function(a){return""===a?f.alert(this.options.messages.error_server,!1,"Error"):a.error?f.alert(a.error,!1,"Error"):(d(a),void 0)}})}};var j=a.fn.testing;a.fn.testing=function(b){return this.each(function(){var c=a(this),d=c.data("testing"),e=a.extend({},a.fn.testing.defaults,"object"==typeof b&&b||c.data()),f="string"==typeof b?b:e.action;d||c.data("testing",d=new i(this,e)),"number"==typeof b?d.to(b):f&&d[f](b)})},a.fn.testing.defaults={action:"load",testId:null,questionId:null,URL:null,ajaxAllowAttempts:5},a.fn.testing.Constructor=i,a.fn.testing.noConflict=function(){return a.fn.testing=j,this}}(window.jQuery),site.captcha={},site.captcha.init=function(){var a=jQuery(".captcha_reset");a.click(function(){var a=new Date;jQuery("#captcha_img").attr("src","/captcha.php?reset&"+a.getTime())})},jQuery(document).ready(function(){site.captcha.init()}),site.message=function(a){var a="object"==typeof a?a:{},b=a.id||(new Date).getTime(),c=a.header||"Информация",d=a.content||"",e=a.width?a.width+"px":"auto",f=a.height?a.height+"px":"auto";jQuery("<div/>",{id:b,"class":"infoblock front_popup",html:'<div class="title" onmousedown="jQuery(\'#'+b+'\').draggable({containment: \'document\'})">			<img src="/images/cms/eip/close.png" alt="Закрыть" title="Закрыть" />			<h2>'+c+'</h2></div><div class="body" onmousedown="jQuery(\'#'+b+"').draggable('destroy')\">			<div class=\"in\">"+d+"</div></div>"}).appendTo("body");var g=jQuery("#"+b);g.css({width:e,height:f});var h=(window.document.documentElement.offsetWidth-g.width())/2,i=window.innerHeight||window.document.documentElement.offsetHeight,j=jQuery(window.document.documentElement).scrollTop()||jQuery(window.document).scrollTop();j+=(i-g.height())/2,g.css({left:h+"px",top:j+"px"}),jQuery("div.title img",g).click(function(){g.remove()});var k;(k=jQuery(".close",g))&&k.click(function(){g.remove()})};var _jsonc=now();$.fn.serializeObject=function(){var a={},b=this.serializeArray();return $.each(b,function(){void 0!==a[this.name]?(a[this.name].push||(a[this.name]=[a[this.name]]),a[this.name].push(this.value||"")):a[this.name]=this.value||""}),a};